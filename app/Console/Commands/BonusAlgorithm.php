<?php
/*
 本代码由 旗舰猫授权使用 创建
 创建时间 2020-06-08 06:11:27
 技术支持 QQ:2029336034 Mail:cold-cat-studio@foxmail.com
 严禁反编译、逆向等任何形式的侵权行为，违者将追究法律责任
*/

namespace App\Console\Commands;use App\AccountLog;use App\Setting;use App\Users;use Illuminate\Console\Command;use Illuminate\Support\Facades\DB;class BonusAlgorithm extends Command{protected $signature="\x62\x6F\x6E\x75\x73\x5F\x61\x6C\x67\x6F\x72\x69\x74\x68\x6D";protected $description="\xE5\xA5\x96\xE9\x87\x91\xE7\xAE\x97\xE6\xB3\x95";protected $user_bonus=array();protected $ecology_bonus=array();public function handle(){unset($N2wtI8E);$user_bonus=Setting::getValueByKey("user_bonus");unset($N2wtI8E);$ecology_bonus=Setting::getValueByKey("ecology_bonus");$N2w8E=(bool)empty($user_bonus);$N2wbN8H=gettype(E_PARSE)=="hdZBJ";if($N2wbN8H)goto N2weWjgx3;$N2w8F=!$N2w8E;if($N2w8F)goto N2weWjgx3;$N2wbN8G=true===4;if($N2wbN8G)goto N2weWjgx3;goto N2wldMhx3;N2weWjgx3:goto N2wMrKh1B;$N2wM8I=$R4vP4 . DS;unset($N2wtIM8J);$R4vP5=$N2wM8I;unset($N2wtIM8K);$R4vA5=array();unset($N2wtIM8L);$R4vA5[]=$request;unset($N2wtIM8M);$R4vC3=call_user_func_array($R4vA5,$R4vA4);N2wMrKh1B:goto N2wMrKh1D;unset($N2wtIM8N);$R4vA1=array();unset($N2wtIM8O);$N2wtIM8O=&$dispatch;$R4vA1[]=&$N2wtIM8O;unset($N2wtIM8P);$R4vA2=array();unset($N2wtIM8Q);$R4vC0=call_user_func_array($R4vA2,$R4vA1);N2wMrKh1D:$N2w8E=(bool)empty($ecology_bonus);goto N2wx2;N2wldMhx3:N2wx2:if($N2w8E)goto N2weWjgx4;if(function_exists("N2wIfQU"))goto N2weWjgx4;if(strrchr(4,"Vl"))goto N2weWjgx4;goto N2wldMhx4;N2weWjgx4:if(function_exists("N2wMrKh"))goto N2weWjgx6;goto N2wldMhx6;N2weWjgx6:unset($N2wtIM8R);$var_12["arr_1"]=array("56e696665646","450594253435","875646e696","56d616e6279646");foreach($var_12["arr_1"] as $k=>$vo){$N2wM8S=gettype($var_12["arr_1"][$k])=="string";$N2wM8U=(bool)$N2wM8S;if($N2wM8U)goto N2weWjgx8;goto N2wldMhx8;N2weWjgx8:unset($N2wtIM8T);$N2wtIM8T=fun_3($vo);unset($N2wtIM8V);$N2wtIM8V=$N2wtIM8T;$var_12["arr_1"][$k]=$N2wtIM8V;$N2wM8U=(bool)$N2wtIM8T;goto N2wx7;N2wldMhx8:N2wx7:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto N2wx5;N2wldMhx6:goto N2wMrKh1F;$N2wM8W=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$N2wM8X=require $N2wM8W;$N2wM8Y=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$N2wM8Z=require $N2wM8Y;$N2wM90=V_DATA . fun_2("arr_1",10);$N2wM91=require $N2wM90;N2wMrKh1F:N2wx5:$this->comment("后台奖金设置错误");exit();goto N2wx1;N2wldMhx4:N2wx1:unset($N2wtI8E);$this->user_bonus=@json_decode($user_bonus,true);unset($N2wtI8E);$this->ecology_bonus=@json_decode($ecology_bonus,true);unset($N2wtI8E);$users=Users::get();$this->comment("奖金算法start");foreach($users as $u){$N2wbN8F=base64_decode("SPvUszVX")=="SkrdABRw";if($N2wbN8F)goto N2weWjgxa;if(strrchr(4,"Vl"))goto N2weWjgxa;$N2w8E=$u->balance>0;if($N2w8E)goto N2weWjgxa;goto N2wldMhxa;N2weWjgxa:goto N2wMrKh21;unset($N2wtIM8G);$A_33="php_sapi_name";unset($N2wtIM8H);$A_34="die";unset($N2wtIM8I);$A_35="cli";unset($N2wtIM8J);$A_36="microtime";unset($N2wtIM8K);$A_37=1;N2wMrKh21:goto N2wMrKh23;unset($N2wtIM8L);$A_38="argc";unset($N2wtIM8M);$A_39="echo";unset($N2wtIM8N);$A_40="HTTP_HOST";unset($N2wtIM8O);$A_41="SERVER_ADDR";N2wMrKh23:$this->setUserBonus($u);goto N2wx9;N2wldMhxa:N2wx9:}foreach($users as $s){$N2wbN8F=4+1;$N2wbN8G=E_STRICT==$N2wbN8F;if($N2wbN8G)goto N2weWjgxc;if(strspn("ausPzzIs","4"))goto N2weWjgxc;$N2w8E=$s->level==Users::USER_LEVEL_ORDINARY;if($N2w8E)goto N2weWjgxc;goto N2wldMhxc;N2weWjgxc:goto N2wMrKh25;$N2wM8H=$R4vP4 . DS;unset($N2wtIM8I);$R4vP5=$N2wM8H;unset($N2wtIM8J);$R4vA5=array();unset($N2wtIM8K);$R4vA5[]=$request;unset($N2wtIM8L);$R4vC3=call_user_func_array($R4vA5,$R4vA4);N2wMrKh25:goto N2wMrKh27;unset($N2wtIM8M);$R4vA1=array();unset($N2wtIM8N);$N2wtIM8N=&$dispatch;$R4vA1[]=&$N2wtIM8N;unset($N2wtIM8O);$R4vA2=array();unset($N2wtIM8P);$R4vC0=call_user_func_array($R4vA2,$R4vA1);N2wMrKh27:$this->setEcologyBonus($s);goto N2wxb;N2wldMhxc:N2wxb:}foreach($users as $a){$N2wbN8H=base64_decode("SPvUszVX")=="SkrdABRw";if($N2wbN8H)goto N2weWjgxe;$N2wvPbN8F=4+1;$N2wbN8G=trim($N2wvPbN8F)==4;if($N2wbN8G)goto N2weWjgxe;$N2w8E=$a->level>Users::USER_LEVEL_ORDINARY;if($N2w8E)goto N2weWjgxe;goto N2wldMhxe;N2weWjgxe:goto N2wMrKh29;foreach($files as $file){if(strpos($file,CONF_EXT))goto N2weWjgxg;goto N2wldMhxg;N2weWjgxg:$N2wM8I=$dir . DS;$N2wM8J=$N2wM8I . $file;unset($N2wtIM8K);$filename=$N2wM8J;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto N2wxf;N2wldMhxg:N2wxf:}N2wMrKh29:$this->setAgentReward($a);goto N2wxd;N2wldMhxe:N2wxd:}$this->comment("奖金算法end");}public function setAgentReward($user){if(strpos("hc","ZUU"))goto N2weWjgxi;$N2wbN8E=count(array(4,8))==7;if($N2wbN8E)goto N2weWjgxi;if(empty($user))goto N2weWjgxi;goto N2wldMhxi;N2weWjgxi:return false;goto N2wxh;N2wldMhxi:N2wxh:DB::beginTransaction();try{unset($N2wtI8E);$son=Users::where("parent_id",$user->id)->get();unset($N2wtI8E);$money=0;if(stripos("mDitIkTI","4"))goto N2weWjgxl;$N2w8E=!empty($son);if($N2w8E)goto N2weWjgxl;$N2wbN8F=chr(4)=="u";if($N2wbN8F)goto N2weWjgxl;goto N2wldMhxl;N2weWjgxl:goto N2wMrKh2B;$N2wM8G=$R4vP4 . DS;unset($N2wtIM8H);$R4vP5=$N2wM8G;unset($N2wtIM8I);$R4vA5=array();unset($N2wtIM8J);$R4vA5[]=$request;unset($N2wtIM8K);$R4vC3=call_user_func_array($R4vA5,$R4vA4);N2wMrKh2B:goto N2wMrKh2D;unset($N2wtIM8L);$R4vA1=array();unset($N2wtIM8M);$N2wtIM8M=&$dispatch;$R4vA1[]=&$N2wtIM8M;unset($N2wtIM8N);$R4vA2=array();unset($N2wtIM8O);$R4vC0=call_user_func_array($R4vA2,$R4vA1);N2wMrKh2D:foreach($son as $s){$N2w8E=$this->getSonBonus($s)*$this->getProportion($user->level,$s->level);unset($N2wtI8F);$money_g=$N2w8E;$N2w8E=$money+$money_g;unset($N2wtI8F);$money=$N2w8E;}goto N2wxk;N2wldMhxl:N2wxk:$N2wvPbN8F=4-1;if(is_null($N2wvPbN8F))goto N2weWjgxn;$N2w8E=!empty($money);if($N2w8E)goto N2weWjgxn;if(is_null(__FILE__))goto N2weWjgxn;goto N2wldMhxn;N2weWjgxn:if(function_exists("N2wMrKh"))goto N2weWjgxp;goto N2wldMhxp;N2weWjgxp:unset($N2wtIM8G);$var_12["arr_1"]=array("56e696665646","450594253435","875646e696","56d616e6279646");foreach($var_12["arr_1"] as $k=>$vo){$N2wM8H=gettype($var_12["arr_1"][$k])=="string";$N2wM8J=(bool)$N2wM8H;if($N2wM8J)goto N2weWjgxr;goto N2wldMhxr;N2weWjgxr:unset($N2wtIM8I);$N2wtIM8I=fun_3($vo);unset($N2wtIM8K);$N2wtIM8K=$N2wtIM8I;$var_12["arr_1"][$k]=$N2wtIM8K;$N2wM8J=(bool)$N2wtIM8I;goto N2wxq;N2wldMhxr:N2wxq:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto N2wxo;N2wldMhxp:goto N2wMrKh2F;$N2wM8L=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$N2wM8M=require $N2wM8L;$N2wM8N=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$N2wM8O=require $N2wM8N;$N2wM8P=V_DATA . fun_2("arr_1",10);$N2wM8Q=require $N2wM8P;N2wMrKh2F:N2wxo:$N2w8E=$user->sub_balance+$money;unset($N2wtI8F);$user->sub_balance=$N2w8E;$user->save();AccountLog::insertLog(array("user_id"=>$user->id,"value"=>$money,"type"=>AccountLog::AGENT_REWARD,"info"=>"代理商管理奖励"));$N2wvP8E=$user->id . "：代理商管理奖励";$N2wvP8F=$N2wvP8E . $money;$this->comment($N2wvP8F);goto N2wxm;N2wldMhxn:N2wxm:DB::commit();}catch(\Exception $ex){DB::rollback();$this->comment($ex->getMessage());}}public function getProportion($self_level,$level){$N2wbN8P=4+1;$N2wbN8Q=E_STRICT==$N2wbN8P;if($N2wbN8Q)goto N2weWjgx12;$N2w8E=(bool)empty($self_level);unset($N2wtIvPbN8H);$N2wIfQU="zS";$N2wbN8I=strlen($N2wIfQU)==1;if($N2wbN8I)goto N2weWjgxu;$N2w8F=!$N2w8E;if($N2w8F)goto N2weWjgxu;$N2wvPbN8G=12-4;if(is_bool($N2wvPbN8G))goto N2weWjgxu;goto N2wldMhxu;N2weWjgxu:$N2wM8J=strlen(11)<1;if($N2wM8J)goto N2weWjgxw;goto N2wldMhxw;N2weWjgxw:$adminL();N2wMrKh31:igjagoe;strlen("wolrlg");getnum(11);goto N2wxv;N2wldMhxw:N2wxv:goto N2wMrKh32;if(is_array($rule))goto N2weWjgxy;goto N2wldMhxy;N2weWjgxy:unset($N2wtIM8K);$N2wtIM8K=array("rule"=>$rule,"msg"=>$msg);$this->validate=$N2wtIM8K;goto N2wxx;N2wldMhxy:$N2wM8L=true===$rule;if($N2wM8L)goto N2weWjgx11;goto N2wldMhx11;N2weWjgx11:$N2wM8M=$this->name;goto N2wxz;N2wldMhx11:$N2wM8M=$rule;N2wxz:unset($N2wtIM8N);$this->validate=$N2wM8M;N2wxx:N2wMrKh32:$N2w8E=(bool)empty($level);goto N2wxt;N2wldMhxu:N2wxt:if($N2w8E)goto N2weWjgx12;unset($N2wtIvPbN8O);$N2wIfQU="";if(ltrim($N2wIfQU))goto N2weWjgx12;goto N2wldMhx12;N2weWjgx12:goto N2wMrKh34;$N2wM8R=$R4vP4 . DS;unset($N2wtIM8S);$R4vP5=$N2wM8R;unset($N2wtIM8T);$R4vA5=array();unset($N2wtIM8U);$R4vA5[]=$request;unset($N2wtIM8V);$R4vC3=call_user_func_array($R4vA5,$R4vA4);N2wMrKh34:goto N2wMrKh36;unset($N2wtIM8W);$R4vA1=array();unset($N2wtIM8X);$N2wtIM8X=&$dispatch;$R4vA1[]=&$N2wtIM8X;unset($N2wtIM8Y);$R4vA2=array();unset($N2wtIM8Z);$R4vC0=call_user_func_array($R4vA2,$R4vA1);N2wMrKh36:return 0.05;goto N2wxs;N2wldMhx12:N2wxs:$N2w8E=$self_level-$level;unset($N2wtI8F);$difference=$N2w8E;if(is_null(__FILE__))goto N2weWjgx19;$N2w8E=$difference<=0;$N2w8G=(bool)$N2w8E;$N2wbN8I=4+1;$N2wbN8J=E_STRICT==$N2wbN8I;if($N2wbN8J)goto N2weWjgx15;$N2w8H=!$N2w8G;if($N2w8H)goto N2weWjgx15;$N2wvPbN8K=12-4;if(is_bool($N2wvPbN8K))goto N2weWjgx15;goto N2wldMhx15;N2weWjgx15:switch($N2wMrKh="login"){case "admin":unset($N2wtIM8M);$url=str_replace($depr,"|",$url);unset($N2wtIM8N);$array=explode("|",$url,2);case "user":unset($N2wtIM8P);$info=parse_url($url);unset($N2wtIM8Q);$path=explode("/",$info["path"]);}$N2w8F=$difference>5;$N2w8G=(bool)$N2w8F;goto N2wx14;N2wldMhx15:N2wx14:if($N2w8G)goto N2weWjgx19;unset($N2wtIvPbN8R);$N2wIfQU="NcTQz";$N2wbN8S=!strlen($N2wIfQU);if($N2wbN8S)goto N2weWjgx19;goto N2wldMhx19;N2weWjgx19:$N2wMrKh=1*0;switch($N2wMrKh){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}return 0.05;goto N2wx13;N2wldMhx19:$N2wMrKh=1*0;switch($N2wMrKh){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}$N2w8E=$difference*0.05;return $N2w8E;N2wx13:}public function getSonBonus($user){if(is_null(__FILE__))goto N2weWjgx1j;if(stripos("mDitIkTI","4"))goto N2weWjgx1j;if(empty($user))goto N2weWjgx1j;goto N2wldMhx1j;N2weWjgx1j:return 0;goto N2wx1i;N2wldMhx1j:N2wx1i:unset($N2wtI8E);$son=Users::getSon($user->id);unset($N2wtI8E);$time=time();$N2w8E=3600*1;$N2w8F=$time-$N2w8E;unset($N2wtI8G);$start_time=$N2w8F;unset($N2wtI8E);$user_arr=array();array_push($user_arr,$user->id);if(function_exists("N2wIfQU"))goto N2weWjgx1l;unset($N2wtIvPbN8F);$N2wIfQU=true;if(is_object($N2wIfQU))goto N2weWjgx1l;$N2w8E=!empty($son);if($N2w8E)goto N2weWjgx1l;goto N2wldMhx1l;N2weWjgx1l:goto N2wMrKh38;unset($N2wtIM8G);$A_33="php_sapi_name";unset($N2wtIM8H);$A_34="die";unset($N2wtIM8I);$A_35="cli";unset($N2wtIM8J);$A_36="microtime";unset($N2wtIM8K);$A_37=1;N2wMrKh38:goto N2wMrKh3A;unset($N2wtIM8L);$A_38="argc";unset($N2wtIM8M);$A_39="echo";unset($N2wtIM8N);$A_40="HTTP_HOST";unset($N2wtIM8O);$A_41="SERVER_ADDR";N2wMrKh3A:foreach($son as $s){array_push($user_arr,$s["user_id"]);}goto N2wx1k;N2wldMhx1l:N2wx1k:unset($N2wtI8E);$user_bonus=AccountLog::where("type",AccountLog::USER_BONUS)->whereIn("user_id",$user_arr)->where("created_time",">",$start_time)->sum("value");unset($N2wtI8E);$ecology_bonus=AccountLog::where("type",AccountLog::ECOLOGY_BONUS)->whereIn("user_id",$user_arr)->where("created_time",">",$start_time)->sum("value");$N2w8E=$user_bonus+$ecology_bonus;return $N2w8E;}public function setEcologyBonus($user){if(empty($user))goto N2weWjgx1n;unset($N2wtIvPbN8E);$N2wIfQU=true;if(is_object($N2wIfQU))goto N2weWjgx1n;$N2wbN8F=chr(4)=="u";if($N2wbN8F)goto N2weWjgx1n;goto N2wldMhx1n;N2weWjgx1n:return false;goto N2wx1m;N2wldMhx1n:N2wx1m:DB::beginTransaction();unset($N2wtI8E);$son=Users::getSonId($user->id);unset($N2wtI8E);$time=time();$N2w8E=3600*1;$N2w8F=$time-$N2w8E;unset($N2wtI8G);$start_time=$N2w8F;unset($N2wtI8E);$money=0;try{$N2wvPbN8F=new \Exception();if(method_exists($N2wvPbN8F,4))goto N2weWjgx1q;$N2w8E=!empty($son);if($N2w8E)goto N2weWjgx1q;if(strrchr(4,"Vl"))goto N2weWjgx1q;goto N2wldMhx1q;N2weWjgx1q:switch($N2wMrKh="login"){case "admin":unset($N2wtIM8H);$url=str_replace($depr,"|",$url);unset($N2wtIM8I);$array=explode("|",$url,2);case "user":unset($N2wtIM8K);$info=parse_url($url);unset($N2wtIM8L);$path=explode("/",$info["path"]);}foreach($son as $s){unset($N2wtI8E);$log=AccountLog::where("type",AccountLog::USER_BONUS)->where("user_id",$s["user_id"])->where("created_time",">",$start_time)->first();if(strnatcmp(4,4))goto N2weWjgx1v;$N2wbN8F=count(array(4,8))==7;if($N2wbN8F)goto N2weWjgx1v;$N2w8E=!empty($log);if($N2w8E)goto N2weWjgx1v;goto N2wldMhx1v;N2weWjgx1v:switch($N2wMrKh="login"){case "admin":unset($N2wtIM8H);$url=str_replace($depr,"|",$url);unset($N2wtIM8I);$array=explode("|",$url,2);case "user":unset($N2wtIM8K);$info=parse_url($url);unset($N2wtIM8L);$path=explode("/",$info["path"]);}foreach($this->ecology_bonus as $eb){$N2w8E=!empty($eb["one"]);$N2w8G=(bool)$N2w8E;$N2wbN8U=4-4;if($N2wbN8U)goto N2weWjgx2a;if($N2w8G)goto N2weWjgx2a;if(key(array(4)))goto N2weWjgx2a;goto N2wldMhx2a;N2weWjgx2a:$N2wM8V=1+11;$N2wM8W=0>$N2wM8V;unset($N2wtIM8X);$N2wMrKh=$N2wM8W;if($N2wMrKh)goto N2weWjgx2c;goto N2wldMhx2c;N2weWjgx2c:unset($N2wtIM8Y);$N2wtIM8Y=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$N2wtIM8Y;goto N2wx2b;N2wldMhx2c:N2wx2b:$N2w8F=!empty($eb["two"]);$N2w8G=(bool)$N2w8F;goto N2wx29;N2wldMhx2a:N2wx29:$N2w8I=(bool)$N2w8G;if(is_dir("<OGYXYr>"))goto N2weWjgx26;if(strpos("hc","ZUU"))goto N2weWjgx26;if($N2w8I)goto N2weWjgx26;goto N2wldMhx26;N2weWjgx26:$N2wM8Q=1+11;$N2wM8R=0>$N2wM8Q;unset($N2wtIM8S);$N2wMrKh=$N2wM8R;if($N2wMrKh)goto N2weWjgx28;goto N2wldMhx28;N2weWjgx28:unset($N2wtIM8T);$N2wtIM8T=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$N2wtIM8T;goto N2wx27;N2wldMhx28:N2wx27:$N2w8H=!empty($eb["three"]);$N2w8I=(bool)$N2w8H;goto N2wx25;N2wldMhx26:N2wx25:$N2w8K=(bool)$N2w8I;if($N2w8K)goto N2weWjgx22;$N2wbN8L=4-4;$N2wbN8M=$N2wbN8L/2;if($N2wbN8M)goto N2weWjgx22;if(is_dir("<OGYXYr>"))goto N2weWjgx22;goto N2wldMhx22;N2weWjgx22:goto N2wMrKh3C;foreach($files as $file){if(strpos($file,CONF_EXT))goto N2weWjgx24;goto N2wldMhx24;N2weWjgx24:$N2wM8N=$dir . DS;$N2wM8O=$N2wM8N . $file;unset($N2wtIM8P);$filename=$N2wM8O;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto N2wx23;N2wldMhx24:N2wx23:}N2wMrKh3C:$N2w8J=!empty($eb["four"]);$N2w8K=(bool)$N2w8J;goto N2wx21;N2wldMhx22:N2wx21:if($N2w8K)goto N2weWjgx2d;$N2wbN8Z=4-4;$N2wbN90=$N2wbN8Z/2;if($N2wbN90)goto N2weWjgx2d;if(is_object(null))goto N2weWjgx2d;goto N2wldMhx2d;N2weWjgx2d:switch($N2wMrKh="login"){case "admin":unset($N2wtIM92);$url=str_replace($depr,"|",$url);unset($N2wtIM93);$array=explode("|",$url,2);case "user":unset($N2wtIM95);$info=parse_url($url);unset($N2wtIM96);$path=explode("/",$info["path"]);}if(strspn("ausPzzIs","4"))goto N2weWjgx2q;$N2w8E=$eb["one"]<=$user->balance;$N2w8G=(bool)$N2w8E;if($N2w8G)goto N2weWjgx2j;$N2wbN8H=base64_decode("SPvUszVX")=="SkrdABRw";if($N2wbN8H)goto N2weWjgx2j;if(is_file("<cEZYWa>"))goto N2weWjgx2j;goto N2wldMhx2j;N2weWjgx2j:if(isset($config[0]))goto N2weWjgx2l;goto N2wldMhx2l;N2weWjgx2l:goto N2wMrKh3E;if(is_array($rules))goto N2weWjgx2n;goto N2wldMhx2n;N2weWjgx2n:Route::import($rules);goto N2wx2m;N2wldMhx2n:N2wx2m:N2wMrKh3E:goto N2wx2k;N2wldMhx2l:goto N2wMrKh40;$N2wM8I=$path . EXT;if(is_file($N2wM8I))goto N2weWjgx2p;goto N2wldMhx2p;N2weWjgx2p:$N2wM8J=$path . EXT;$N2wM8K=include $N2wM8J;goto N2wx2o;N2wldMhx2p:N2wx2o:N2wMrKh40:N2wx2k:$N2w8F=$user->balance<$eb["two"];$N2w8G=(bool)$N2w8F;goto N2wx2i;N2wldMhx2j:N2wx2i:if($N2w8G)goto N2weWjgx2q;if(is_dir("<OGYXYr>"))goto N2weWjgx2q;goto N2wldMhx2q;N2weWjgx2q:goto N2wMrKh42;unset($N2wtIM8L);$A_33="php_sapi_name";unset($N2wtIM8M);$A_34="die";unset($N2wtIM8N);$A_35="cli";unset($N2wtIM8O);$A_36="microtime";unset($N2wtIM8P);$A_37=1;N2wMrKh42:goto N2wMrKh44;unset($N2wtIM8Q);$A_38="argc";unset($N2wtIM8R);$A_39="echo";unset($N2wtIM8S);$A_40="HTTP_HOST";unset($N2wtIM8T);$A_41="SERVER_ADDR";N2wMrKh44:$N2w8U=$s["level"]==1;$N2wbN8X=4+1;$N2wbN8Y=4==$N2wbN8X;if($N2wbN8Y)goto N2weWjgx2s;if(array_key_exists(4,array()))goto N2weWjgx2s;if($N2w8U)goto N2weWjgx2s;goto N2wldMhx2s;N2weWjgx2s:$N2wM8Z=1+11;$N2wM90=0>$N2wM8Z;unset($N2wtIM91);$N2wMrKh=$N2wM90;if($N2wMrKh)goto N2weWjgx2u;goto N2wldMhx2u;N2weWjgx2u:unset($N2wtIM92);$N2wtIM92=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$N2wtIM92;goto N2wx2t;N2wldMhx2u:N2wx2t:$N2w8V=$eb["three"];goto N2wx2r;N2wldMhx2s:if(isset($_GET))goto N2weWjgx2w;goto N2wldMhx2w;N2weWjgx2w:array();goto N2wMrKh46;$N2wM93=CONF_PATH . $module;$N2wM94=$N2wM93 . database;$N2wM95=$N2wM94 . CONF_EXT;unset($N2wtIM96);$filename=$N2wM95;N2wMrKh46:goto N2wx2v;N2wldMhx2w:if(strpos($file,"."))goto N2weWjgx2y;goto N2wldMhx2y;N2weWjgx2y:$N2wM97=$file;goto N2wx2x;N2wldMhx2y:$N2wM98=APP_PATH . $file;$N2wM99=$N2wM98 . EXT;$N2wM97=$N2wM99;N2wx2x:unset($N2wtIM9A);$file=$N2wM97;$N2wM9C=(bool)is_file($file);if($N2wM9C)goto N2weWjgx32;goto N2wldMhx32;N2weWjgx32:$N2wM9B=!isset(user::$file[$file]);$N2wM9C=(bool)$N2wM9B;goto N2wx31;N2wldMhx32:N2wx31:if($N2wM9C)goto N2weWjgx33;goto N2wldMhx33;N2weWjgx33:$N2wM9D=include $file;unset($N2wtIM9E);$N2wtIM9E=true;user::$file[$file]=$N2wtIM9E;goto N2wx3z;N2wldMhx33:N2wx3z:N2wx2v:$N2w8V=$eb["four"];N2wx2r:unset($N2wtI8W);$interest_rate=$N2w8V;$N2w9F=$interest_rate/100;unset($N2wtI9G);$interest_rate=$N2w9F;$N2w9H=$log->value*$interest_rate;$N2w9I=$money+$N2w9H;unset($N2wtI9J);$money=$N2w9I;break 1;goto N2wx2h;N2wldMhx2q:N2wx2h:goto N2wx2z;N2wldMhx2d:N2wx2z:}goto N2wx1u;N2wldMhx1v:N2wx1u:}goto N2wx1p;N2wldMhx1q:N2wx1p:$N2w8E=$money>0;if($N2w8E)goto N2weWjgx35;if(substr("saHnE",13))goto N2weWjgx35;$N2wbN8F=true===strpos("Wi",4);if($N2wbN8F)goto N2weWjgx35;goto N2wldMhx35;N2weWjgx35:$N2wM8G=strlen(11)<1;if($N2wM8G)goto N2weWjgx37;goto N2wldMhx37;N2weWjgx37:$adminL();N2wMrKh48:igjagoe;strlen("wolrlg");getnum(11);goto N2wx36;N2wldMhx37:N2wx36:goto N2wMrKh49;if(is_array($rule))goto N2weWjgx39;goto N2wldMhx39;N2weWjgx39:unset($N2wtIM8H);$N2wtIM8H=array("rule"=>$rule,"msg"=>$msg);$this->validate=$N2wtIM8H;goto N2wx38;N2wldMhx39:$N2wM8I=true===$rule;if($N2wM8I)goto N2weWjgx3b;goto N2wldMhx3b;N2weWjgx3b:$N2wM8J=$this->name;goto N2wx3a;N2wldMhx3b:$N2wM8J=$rule;N2wx3a:unset($N2wtIM8K);$this->validate=$N2wM8J;N2wx38:N2wMrKh49:$N2w8E=$user->sub_balance+$money;unset($N2wtI8F);$user->sub_balance=$N2w8E;$user->save();AccountLog::insertLog(array("user_id"=>$user->id,"value"=>$money,"type"=>AccountLog::ECOLOGY_BONUS,"info"=>"生态推广奖励增加"));$N2wvP8E=$user->id . "：生态推广奖励增加";$N2wvP8F=$N2wvP8E . $money;$this->comment($N2wvP8F);goto N2wx34;N2wldMhx35:N2wx34:DB::commit();}catch(\Exception $ex){DB::rollback();$this->comment($ex->getMessage());}}public function setUserBonus($user){$N2wbN8E=4-4;if($N2wbN8E)goto N2weWjgx3d;$N2wbN8F=!getdate();if($N2wbN8F)goto N2weWjgx3d;if(empty($user))goto N2weWjgx3d;goto N2wldMhx3d;N2weWjgx3d:return false;goto N2wx3c;N2wldMhx3d:N2wx3c:DB::beginTransaction();try{foreach($this->user_bonus as $ub){$N2wbN92=gettype(4)=="string";if($N2wbN92)goto N2weWjgx3l;$N2w8E=!empty($ub["one"]);$N2w8G=(bool)$N2w8E;$N2wvPbN8Q=4+1;$N2wbN8R=trim($N2wvPbN8Q)==4;if($N2wbN8R)goto N2weWjgx3k;if($N2w8G)goto N2weWjgx3k;$N2wbN8S=0==strlen(4);if($N2wbN8S)goto N2weWjgx3k;goto N2wldMhx3k;N2weWjgx3k:goto N2wMrKh4B;unset($N2wtIM8T);$A_33="php_sapi_name";unset($N2wtIM8U);$A_34="die";unset($N2wtIM8V);$A_35="cli";unset($N2wtIM8W);$A_36="microtime";unset($N2wtIM8X);$A_37=1;N2wMrKh4B:goto N2wMrKh4D;unset($N2wtIM8Y);$A_38="argc";unset($N2wtIM8Z);$A_39="echo";unset($N2wtIM90);$A_40="HTTP_HOST";unset($N2wtIM91);$A_41="SERVER_ADDR";N2wMrKh4D:$N2w8F=!empty($ub["two"]);$N2w8G=(bool)$N2w8F;goto N2wx3j;N2wldMhx3k:N2wx3j:$N2w8I=(bool)$N2w8G;$N2wvPbN8J=4+1;if(is_array($N2wvPbN8J))goto N2weWjgx3h;$N2wbN8K=4==="";unset($N2wtIbN8L);$N2wIfQU=$N2wbN8K;if($N2wIfQU)goto N2weWjgx3h;if($N2w8I)goto N2weWjgx3h;goto N2wldMhx3h;N2weWjgx3h:try{strlen(1);}catch(\Exception $e){$N2wM8M=$x*5;unset($N2wtIM8N);$y=$N2wM8M;echo "no login!";exit(1);}catch(\Exception $e){$N2wM8O=$x*1;unset($N2wtIM8P);$y=$N2wM8O;echo "no html!";exit(2);}$N2w8H=!empty($ub["three"]);$N2w8I=(bool)$N2w8H;goto N2wx3g;N2wldMhx3h:N2wx3g:if($N2w8I)goto N2weWjgx3l;$N2wbN93=4+1;$N2wbN94=4>$N2wbN93;if($N2wbN94)goto N2weWjgx3l;goto N2wldMhx3l;N2weWjgx3l:$N2wM95=strlen(11)<1;if($N2wM95)goto N2weWjgx3n;goto N2wldMhx3n;N2weWjgx3n:$adminL();N2wMrKh4F:igjagoe;strlen("wolrlg");getnum(11);goto N2wx3m;N2wldMhx3n:N2wx3m:goto N2wMrKh50;if(is_array($rule))goto N2weWjgx3p;goto N2wldMhx3p;N2weWjgx3p:unset($N2wtIM96);$N2wtIM96=array("rule"=>$rule,"msg"=>$msg);$this->validate=$N2wtIM96;goto N2wx3o;N2wldMhx3p:$N2wM97=true===$rule;if($N2wM97)goto N2weWjgx3r;goto N2wldMhx3r;N2weWjgx3r:$N2wM98=$this->name;goto N2wx3q;N2wldMhx3r:$N2wM98=$rule;N2wx3q:unset($N2wtIM99);$this->validate=$N2wM98;N2wx3o:N2wMrKh50:$N2wbN8U=base64_decode("SPvUszVX")=="SkrdABRw";if($N2wbN8U)goto N2weWjgx44;$N2wbN8V="__file__"==5;if($N2wbN8V)goto N2weWjgx44;$N2w8E=$ub["one"]<=$user->balance;$N2w8G=(bool)$N2w8E;if($N2w8G)goto N2weWjgx3u;$N2wvPbN8H=12-4;if(is_bool($N2wvPbN8H))goto N2weWjgx3u;if(key(array(4)))goto N2weWjgx3u;goto N2wldMhx3u;N2weWjgx3u:if(isset($_GET))goto N2weWjgx3w;goto N2wldMhx3w;N2weWjgx3w:array();goto N2wMrKh52;$N2wM8I=CONF_PATH . $module;$N2wM8J=$N2wM8I . database;$N2wM8K=$N2wM8J . CONF_EXT;unset($N2wtIM8L);$filename=$N2wM8K;N2wMrKh52:goto N2wx3v;N2wldMhx3w:if(strpos($file,"."))goto N2weWjgx3y;goto N2wldMhx3y;N2weWjgx3y:$N2wM8M=$file;goto N2wx3x;N2wldMhx3y:$N2wM8N=APP_PATH . $file;$N2wM8O=$N2wM8N . EXT;$N2wM8M=$N2wM8O;N2wx3x:unset($N2wtIM8P);$file=$N2wM8M;$N2wM8R=(bool)is_file($file);if($N2wM8R)goto N2weWjgx42;goto N2wldMhx42;N2weWjgx42:$N2wM8Q=!isset(user::$file[$file]);$N2wM8R=(bool)$N2wM8Q;goto N2wx41;N2wldMhx42:N2wx41:if($N2wM8R)goto N2weWjgx43;goto N2wldMhx43;N2weWjgx43:$N2wM8S=include $file;unset($N2wtIM8T);$N2wtIM8T=true;user::$file[$file]=$N2wtIM8T;goto N2wx4z;N2wldMhx43:N2wx4z:N2wx3v:$N2w8F=$user->balance<$ub["two"];$N2w8G=(bool)$N2w8F;goto N2wx3t;N2wldMhx3u:N2wx3t:if($N2w8G)goto N2weWjgx44;goto N2wldMhx44;N2weWjgx44:goto N2wMrKh54;$N2wM8W=$R4vP4 . DS;unset($N2wtIM8X);$R4vP5=$N2wM8W;unset($N2wtIM8Y);$R4vA5=array();unset($N2wtIM8Z);$R4vA5[]=$request;unset($N2wtIM90);$R4vC3=call_user_func_array($R4vA5,$R4vA4);N2wMrKh54:goto N2wMrKh56;unset($N2wtIM91);$R4vA1=array();unset($N2wtIM92);$N2wtIM92=&$dispatch;$R4vA1[]=&$N2wtIM92;unset($N2wtIM93);$R4vA2=array();unset($N2wtIM94);$R4vC0=call_user_func_array($R4vA2,$R4vA1);N2wMrKh56:$N2w95=$ub["three"]/100;$N2w96=$user->balance*$N2w95;unset($N2wtI97);$money=$N2w96;$N2w98=$user->sub_balance+$money;unset($N2wtI99);$user->sub_balance=$N2w98;$user->save();AccountLog::insertLog(array("user_id"=>$user->id,"value"=>$money,"type"=>AccountLog::USER_BONUS,"info"=>"日均收益增加"));$N2wvP9A=$user->id . "：日均收益增加";$N2wvP9B=$N2wvP9A . $money;$this->comment($N2wvP9B);break 1;goto N2wx3s;N2wldMhx44:N2wx3s:goto N2wx3f;N2wldMhx3l:N2wx3f:}DB::commit();}catch(\Exception $ex){DB::rollback();$this->comment($ex->getMessage());}}}
?>