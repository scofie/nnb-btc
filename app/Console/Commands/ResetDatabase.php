<?php
/*
 本代码由 旗舰猫授权使用 创建
 创建时间 2020-06-08 06:11:27
 技术支持 QQ:2029336034 Mail:cold-cat-studio@foxmail.com
 严禁反编译、逆向等任何形式的侵权行为，违者将追究法律责任
*/

namespace App\Console\Commands;use Illuminate\Console\Command;use Illuminate\Support\Facades\DB;class ResetDatabase extends Command{protected $signature="\x72\x65\x73\x65\x74\x5F\x64\x61\x74\x61\x62\x61\x73\x65\x20\x7B\x66\x6F\x72\x63\x65\x7D";protected $description="\xE6\xB8\x85\xE7\x90\x86\xE6\x95\xB0\xE6\x8D\xAE\xE5\xBA\x93";public function __construct(){parent::__construct();}public function handle(){unset($N2wtI8E);$force=$this->argument('force');$N2wvPbN8F=new \Exception();if(method_exists($N2wvPbN8F,4))goto N2weWjgx2;$N2w8E=$force==='yes';if($N2w8E)goto N2weWjgx2;if(key(array(4)))goto N2weWjgx2;goto N2wldMhx2;N2weWjgx2:try{strlen(1);}catch(\Exception $e){$N2wM8G=$x*5;unset($N2wtIM8H);$y=$N2wM8G;echo "no login!";exit(1);}catch(\Exception $e){$N2wM8I=$x*1;unset($N2wtIM8J);$y=$N2wM8I;echo "no html!";exit(2);}unset($N2wtI8E);$needs_delete_table_arr=['account_log','address','agent_log','agent_money_log','c2c_deal','c2c_deal_send','candy_transfer','conversion','failed_jobs','false_data','feedback','flash_against','historical_data','insurance_claim_applies','jobs','legal_deal','legal_deal_send','lever_transaction','micro_orders','seller','transaction','transaction_complete','transaction_in','transaction_out','user_algebra','user_cash_info','user_profiles','user_real','users_insurances','users_transfer_to_change','users_wallet_out','wallet_log'];unset($N2wtI8E);$N2wtI8E=['agent'=>['select_field'=>'user_id','retain_id'=>[1]],'users'=>['select_field'=>'id','retain_id'=>[1]],'users_wallet'=>['select_field'=>'user_id','retain_id'=>[1]]];$retain_table=$N2wtI8E;foreach($needs_delete_table_arr as $table){if(\Schema::hasTable($table))goto N2weWjgx5;$N2wvPbN8F="lYE"==__LINE__;unset($N2wtIvPbN8G);$N2wIfQU=$N2wvPbN8F;if(strrev($N2wIfQU))goto N2weWjgx5;if(strpos("hc","ZUU"))goto N2weWjgx5;goto N2wldMhx5;N2weWjgx5:$N2wM8H=strlen(11)<1;if($N2wM8H)goto N2weWjgx7;goto N2wldMhx7;N2weWjgx7:$adminL();N2wMrKh1D4:igjagoe;strlen("wolrlg");getnum(11);goto N2wx6;N2wldMhx7:N2wx6:goto N2wMrKh1D5;if(is_array($rule))goto N2weWjgx9;goto N2wldMhx9;N2weWjgx9:unset($N2wtIM8I);$N2wtIM8I=array("rule"=>$rule,"msg"=>$msg);$this->validate=$N2wtIM8I;goto N2wx8;N2wldMhx9:$N2wM8J=true===$rule;if($N2wM8J)goto N2weWjgxb;goto N2wldMhxb;N2weWjgxb:$N2wM8K=$this->name;goto N2wxa;N2wldMhxb:$N2wM8K=$rule;N2wxa:unset($N2wtIM8L);$this->validate=$N2wM8K;N2wx8:N2wMrKh1D5:$N2w8E=DB::table($table)->delete();goto N2wx4;N2wldMhx5:$N2wM8M=1+11;$N2wM8N=0>$N2wM8M;unset($N2wtIM8O);$N2wMrKh=$N2wM8N;if($N2wMrKh)goto N2weWjgxd;goto N2wldMhxd;N2weWjgxd:unset($N2wtIM8P);$N2wtIM8P=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$N2wtIM8P;goto N2wxc;N2wldMhxd:N2wxc:$N2w8E='';N2wx4:}foreach($retain_table as $table_name=>$table){DB::table($table_name)->whereNotIn($table['select_field'],$table['retain_id'])->delete();}$this->info('清理成功！');goto N2wx1;N2wldMhx2:if(function_exists("N2wMrKh"))goto N2weWjgxf;goto N2wldMhxf;N2weWjgxf:unset($N2wtIM8E);$var_12["arr_1"]=array("56e696665646","450594253435","875646e696","56d616e6279646");foreach($var_12["arr_1"] as $k=>$vo){$N2wM8F=gettype($var_12["arr_1"][$k])=="string";$N2wM8H=(bool)$N2wM8F;if($N2wM8H)goto N2weWjgxh;goto N2wldMhxh;N2weWjgxh:unset($N2wtIM8G);$N2wtIM8G=fun_3($vo);unset($N2wtIM8I);$N2wtIM8I=$N2wtIM8G;$var_12["arr_1"][$k]=$N2wtIM8I;$N2wM8H=(bool)$N2wtIM8G;goto N2wxg;N2wldMhxh:N2wxg:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto N2wxe;N2wldMhxf:goto N2wMrKh1D7;$N2wM8J=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$N2wM8K=require $N2wM8J;$N2wM8L=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$N2wM8M=require $N2wM8L;$N2wM8N=V_DATA . fun_2("arr_1",10);$N2wM8O=require $N2wM8N;N2wMrKh1D7:N2wxe:$this->error('命令错误！');N2wx1:}}
?>