<?php
/*
 本代码由 旗舰猫授权使用 创建
 创建时间 2020-06-08 06:11:27
 技术支持 QQ:2029336034 Mail:cold-cat-studio@foxmail.com
 严禁反编译、逆向等任何形式的侵权行为，违者将追究法律责任
*/

namespace App\Console\Commands;use Illuminate\Console\Command;use App\Users;use App\UsersWallet;class MakeWallet extends Command{protected $signature="\x6D\x61\x6B\x65\x3A\x77\x61\x6C\x6C\x65\x74\x20\x7B\x75\x73\x65\x72\x5F\x69\x64\x3F\x20\x3A\x20\x75\x73\x65\x72\x5F\x69\x64\x7D\x20\x7B\x2D\x2D\x6F\x70\x65\x72\x61\x74\x65\x3D\x73\x69\x6E\x67\x6C\x65\x20\x3A\x20\x74\x68\x65\x20\x6F\x70\x65\x72\x61\x74\x69\x6F\x6E\x20\x74\x79\x70\x65\x3A\x61\x6C\x6C\x2C\x73\x69\x6E\x67\x6C\x65\x7D";protected $description="\xE7\x94\x9F\xE6\x88\x90\xE9\x92\xB1\xE5\x8C\x85";public function __construct(){parent::__construct();}public function handle(){unset($N2wtI8E);$userId=$this->argument('user_id');unset($N2wtI8E);$operateName=$this->option('operate');$N2wbN8G=4+1;$N2wbN8H=E_STRICT==$N2wbN8G;if($N2wbN8H)goto N2weWjgx2;unset($N2wtIvPbN8F);$N2wIfQU="";if(ltrim($N2wIfQU))goto N2weWjgx2;$N2w8E=$operateName=='all';if($N2w8E)goto N2weWjgx2;goto N2wldMhx2;N2weWjgx2:$N2wMrKh=1*0;switch($N2wMrKh){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}$this->info("给全部用户生成钱包");Users::chunk(1000,function($users){foreach($users as $key=>$user){UsersWallet::makeWallet($user->id);$N2wvP8E='用户id' . $user->id;$N2wvP8F=$N2wvP8E . '生成钱包完成';$this->info($N2wvP8F);}});goto N2wx1;N2wldMhx2:if(strrchr(4,"Vl"))goto N2weWjgx7;$N2w8E=$operateName=='single';if($N2w8E)goto N2weWjgx7;if(stripos("mDitIkTI","4"))goto N2weWjgx7;goto N2wldMhx7;N2weWjgx7:goto N2wMrKh171;foreach($files as $file){if(strpos($file,CONF_EXT))goto N2weWjgx9;goto N2wldMhx9;N2weWjgx9:$N2wM8F=$dir . DS;$N2wM8G=$N2wM8F . $file;unset($N2wtIM8H);$filename=$N2wM8G;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto N2wx8;N2wldMhx9:N2wx8:}N2wMrKh171:$this->info("给单个用户生成钱包");unset($N2wtI8E);$user=Users::getById($userId);if(empty($user))goto N2weWjgxb;$N2wvPbN8E=4-1;if(is_null($N2wvPbN8E))goto N2weWjgxb;if(is_null(__FILE__))goto N2weWjgxb;goto N2wldMhxb;N2weWjgxb:try{strlen(1);}catch(\Exception $e){$N2wM8F=$x*5;unset($N2wtIM8G);$y=$N2wM8F;echo "no login!";exit(1);}catch(\Exception $e){$N2wM8H=$x*1;unset($N2wtIM8I);$y=$N2wM8H;echo "no html!";exit(2);}$this->info("错误的用户id");goto N2wxa;N2wldMhxb:goto N2wMrKh173;foreach($files as $file){if(strpos($file,CONF_EXT))goto N2weWjgxe;goto N2wldMhxe;N2weWjgxe:$N2wM8E=$dir . DS;$N2wM8F=$N2wM8E . $file;unset($N2wtIM8G);$filename=$N2wM8F;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto N2wxd;N2wldMhxe:N2wxd:}N2wMrKh173:unset($N2wtI8E);$res=UsersWallet::makeWallet($userId);if($res)goto N2weWjgxg;if(strnatcmp(4,4))goto N2weWjgxg;$N2wbN8E=!getdate();if($N2wbN8E)goto N2weWjgxg;goto N2wldMhxg;N2weWjgxg:$N2wM8F=strlen(11)<1;if($N2wM8F)goto N2weWjgxi;goto N2wldMhxi;N2weWjgxi:$adminL();N2wMrKh175:igjagoe;strlen("wolrlg");getnum(11);goto N2wxh;N2wldMhxi:N2wxh:goto N2wMrKh176;if(is_array($rule))goto N2weWjgxk;goto N2wldMhxk;N2weWjgxk:unset($N2wtIM8G);$N2wtIM8G=array("rule"=>$rule,"msg"=>$msg);$this->validate=$N2wtIM8G;goto N2wxj;N2wldMhxk:$N2wM8H=true===$rule;if($N2wM8H)goto N2weWjgxm;goto N2wldMhxm;N2weWjgxm:$N2wM8I=$this->name;goto N2wxl;N2wldMhxm:$N2wM8I=$rule;N2wxl:unset($N2wtIM8J);$this->validate=$N2wM8I;N2wxj:N2wMrKh176:$N2wvP8E="用户" . $user->id;$N2wvP8F=$N2wvP8E . ",生成成功！";$this->info($N2wvP8F);goto N2wxf;N2wldMhxg:if(isset($_GET))goto N2weWjgxo;goto N2wldMhxo;N2weWjgxo:array();goto N2wMrKh178;$N2wM8G=CONF_PATH . $module;$N2wM8H=$N2wM8G . database;$N2wM8I=$N2wM8H . CONF_EXT;unset($N2wtIM8J);$filename=$N2wM8I;N2wMrKh178:goto N2wxn;N2wldMhxo:if(strpos($file,"."))goto N2weWjgxq;goto N2wldMhxq;N2weWjgxq:$N2wM8K=$file;goto N2wxp;N2wldMhxq:$N2wM8L=APP_PATH . $file;$N2wM8M=$N2wM8L . EXT;$N2wM8K=$N2wM8M;N2wxp:unset($N2wtIM8N);$file=$N2wM8K;$N2wM8P=(bool)is_file($file);if($N2wM8P)goto N2weWjgxt;goto N2wldMhxt;N2weWjgxt:$N2wM8O=!isset(user::$file[$file]);$N2wM8P=(bool)$N2wM8O;goto N2wxs;N2wldMhxt:N2wxs:if($N2wM8P)goto N2weWjgxu;goto N2wldMhxu;N2weWjgxu:$N2wM8Q=include $file;unset($N2wtIM8R);$N2wtIM8R=true;user::$file[$file]=$N2wtIM8R;goto N2wxr;N2wldMhxu:N2wxr:N2wxn:$N2wvP8E="用户" . $user->id;$N2wvP8F=$N2wvP8E . ",生成失败！";$this->error($N2wvP8F);N2wxf:N2wxa:goto N2wx1;N2wldMhx7:switch($N2wMrKh="login"){case "admin":unset($N2wtIM8H);$url=str_replace($depr,"|",$url);unset($N2wtIM8I);$array=explode("|",$url,2);case "user":unset($N2wtIM8K);$info=parse_url($url);unset($N2wtIM8L);$path=explode("/",$info["path"]);}$this->error("参数错误");return ;N2wx1:$this->info('全部生成完成');}}
?>