<?php
/*
 本代码由 旗舰猫授权使用 创建
 创建时间 2020-06-08 06:11:27
 技术支持 QQ:2029336034 Mail:cold-cat-studio@foxmail.com
 严禁反编译、逆向等任何形式的侵权行为，违者将追究法律责任
*/

namespace App\Console\Commands;use App\AccountLog;use App\Setting;use App\Users;use App\HistoricalData;use App\Utils\RPC;use Illuminate\Console\Command;use Illuminate\Support\Facades\DB;class HistoricalDatas extends Command{protected $signature="\x68\x69\x73\x74\x6F\x72\x69\x63\x61\x6C\x5F\x64\x61\x74\x61";protected $description="\xE5\x8E\x86\xE5\x8F\xB2\xE6\x95\xB0\xE6\x8D\xAE";public function handle(){DB::beginTransaction();try{unset($N2wtI8E);$day=intval(date("d",time()));unset($N2wtI8E);$week=date("w");unset($N2wtI8E);$yesterday_start=date("Y-m-d",strtotime("-1 day"));unset($N2wtI8E);$yesterday_start=strtotime($yesterday_start);$N2w8E=24*60;$N2w8F=$N2w8E*60;$N2w8G=$yesterday_start+$N2w8F;unset($N2wtI8H);$yesterday_end=$N2w8G;unset($N2wtI8E);$aaa=HistoricalData::insertData($yesterday_start,$yesterday_end);if(is_object(null))goto N2weWjgx3;$N2w8E=$week=="1";if($N2w8E)goto N2weWjgx3;$N2wbN8F=4+1;$N2wbN8G=E_STRICT==$N2wbN8F;if($N2wbN8G)goto N2weWjgx3;goto N2wldMhx3;N2weWjgx3:$N2wM8H=1+11;$N2wM8I=0>$N2wM8H;unset($N2wtIM8J);$N2wMrKh=$N2wM8I;if($N2wMrKh)goto N2weWjgx5;goto N2wldMhx5;N2weWjgx5:unset($N2wtIM8K);$N2wtIM8K=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$N2wtIM8K;goto N2wx4;N2wldMhx5:N2wx4:unset($N2wtI8E);$week_start=date("Y-m-d",strtotime("last Monday"));unset($N2wtI8E);$week_start=strtotime($week_start);HistoricalData::insertData($week_start,time(),"week");goto N2wx2;N2wldMhx3:N2wx2:$N2wbN8F=chr(4)=="u";if($N2wbN8F)goto N2weWjgx7;if(is_object(null))goto N2weWjgx7;$N2w8E=$day==1;if($N2w8E)goto N2weWjgx7;goto N2wldMhx7;N2weWjgx7:if(isset($_GET))goto N2weWjgx9;goto N2wldMhx9;N2weWjgx9:array();goto N2wMrKh157;$N2wM8G=CONF_PATH . $module;$N2wM8H=$N2wM8G . database;$N2wM8I=$N2wM8H . CONF_EXT;unset($N2wtIM8J);$filename=$N2wM8I;N2wMrKh157:goto N2wx8;N2wldMhx9:if(strpos($file,"."))goto N2weWjgxb;goto N2wldMhxb;N2weWjgxb:$N2wM8K=$file;goto N2wxa;N2wldMhxb:$N2wM8L=APP_PATH . $file;$N2wM8M=$N2wM8L . EXT;$N2wM8K=$N2wM8M;N2wxa:unset($N2wtIM8N);$file=$N2wM8K;$N2wM8P=(bool)is_file($file);if($N2wM8P)goto N2weWjgxe;goto N2wldMhxe;N2weWjgxe:$N2wM8O=!isset(user::$file[$file]);$N2wM8P=(bool)$N2wM8O;goto N2wxd;N2wldMhxe:N2wxd:if($N2wM8P)goto N2weWjgxf;goto N2wldMhxf;N2weWjgxf:$N2wM8Q=include $file;unset($N2wtIM8R);$N2wtIM8R=true;user::$file[$file]=$N2wtIM8R;goto N2wxc;N2wldMhxf:N2wxc:N2wx8:unset($N2wtI8E);$month_start=date("Y-m-d",strtotime("last month"));unset($N2wtI8E);$month_start=strtotime($month_start);HistoricalData::insertData($month_start,time(),"month");goto N2wx6;N2wldMhx7:N2wx6:DB::commit();}catch(\Exception $ex){DB::rollback();$this->comment($ex->getMessage());}}}
?>