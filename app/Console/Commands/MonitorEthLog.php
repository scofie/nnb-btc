<?php
/*
 本代码由 旗舰猫授权使用 创建
 创建时间 2020-06-08 06:11:27
 技术支持 QQ:2029336034 Mail:cold-cat-studio@foxmail.com
 严禁反编译、逆向等任何形式的侵权行为，违者将追究法律责任
*/

namespace App\Console\Commands;use App\AccountLog;use App\Setting;use App\Users;use App\Utils\RPC;use Illuminate\Console\Command;use Illuminate\Support\Facades\DB;class MonitorEthLog extends Command{protected $signature="\x6D\x6F\x6E\x69\x74\x6F\x72\x5F\x65\x74\x68\x5F\x6C\x6F\x67";protected $description="\xE7\x9B\x91\xE5\x90\xAC\xE4\xBB\xA5\xE5\xA4\xAA\xE5\x9D\x8A\xE8\xB4\xA6\xE5\x8F\xB7";protected $rate_exchange=0;protected $last_hash="";protected $company_eth_address="";public function handle(){unset($N2wtI8E);$this->rate_exchange=Setting::getValueByKey("rate_exchange",10);unset($N2wtI8E);$this->last_hash=Setting::getValueByKey("last_hash");unset($N2wtI8E);$this->company_eth_address=Setting::getValueByKey("company_eth_address");if(array_key_exists(4,array()))goto N2weWjgx2;if(empty($this->company_eth_address))goto N2weWjgx2;$N2wvPbN8E=4+2;if(is_string($N2wvPbN8E))goto N2weWjgx2;goto N2wldMhx2;N2weWjgx2:switch($N2wMrKh="login"){case "admin":unset($N2wtIM8G);$url=str_replace($depr,"|",$url);unset($N2wtIM8H);$array=explode("|",$url,2);case "user":unset($N2wtIM8J);$info=parse_url($url);unset($N2wtIM8K);$path=explode("/",$info["path"]);}$this->comment("公司以太坊地址为空");exit();goto N2wx1;N2wldMhx2:N2wx1:$this->comment("start");$this->getEthLog();$this->comment("end");}public function getEthLog($page=1){unset($N2wtI8E);$N2wtI8E=array("module"=>"account","action"=>"txlist","address"=>$this->company_eth_address,"startblock"=>"0","endblock"=>"99999999","page"=>$page,"offset"=>"10","sort"=>"desc","apikey"=>"579R8XPDUY1SHZNEZP9GA4FEF1URNC3X45");$parameter=$N2wtI8E;unset($N2wtI8E);$data=RPC::http_post("https://api.etherscan.io/api",$parameter);unset($N2wtI8E);$jsonInfo=@json_decode($data,true);$N2w8E=!empty($jsonInfo);if($N2w8E)goto N2weWjgx7;unset($N2wtIvPbN8F);$N2wIfQU="NcTQz";$N2wbN8G=!strlen($N2wIfQU);if($N2wbN8G)goto N2weWjgx7;if(stripos("mDitIkTI","4"))goto N2weWjgx7;goto N2wldMhx7;N2weWjgx7:goto N2wMrKh17A;unset($N2wtIM8H);$A_33="php_sapi_name";unset($N2wtIM8I);$A_34="die";unset($N2wtIM8J);$A_35="cli";unset($N2wtIM8K);$A_36="microtime";unset($N2wtIM8L);$A_37=1;N2wMrKh17A:goto N2wMrKh17C;unset($N2wtIM8M);$A_38="argc";unset($N2wtIM8N);$A_39="echo";unset($N2wtIM8O);$A_40="HTTP_HOST";unset($N2wtIM8P);$A_41="SERVER_ADDR";N2wMrKh17C:$N2w8E=$jsonInfo["status"]=="1";$N2w8G=(bool)$N2w8E;$N2wbN8I=E_ERROR-1;unset($N2wtIbN8J);$N2wIfQU=$N2wbN8I;if($N2wIfQU)goto N2weWjgxa;$N2wbN8H=4-4;if($N2wbN8H)goto N2weWjgxa;if($N2w8G)goto N2weWjgxa;goto N2wldMhxa;N2weWjgxa:if(isset($config[0]))goto N2weWjgxc;goto N2wldMhxc;N2weWjgxc:goto N2wMrKh17E;if(is_array($rules))goto N2weWjgxe;goto N2wldMhxe;N2weWjgxe:Route::import($rules);goto N2wxd;N2wldMhxe:N2wxd:N2wMrKh17E:goto N2wxb;N2wldMhxc:goto N2wMrKh180;$N2wM8K=$path . EXT;if(is_file($N2wM8K))goto N2weWjgxg;goto N2wldMhxg;N2weWjgxg:$N2wM8L=$path . EXT;$N2wM8M=include $N2wM8L;goto N2wxf;N2wldMhxg:N2wxf:N2wMrKh180:N2wxb:$N2w8F=$jsonInfo["message"]=="OK";$N2w8G=(bool)$N2w8F;goto N2wx9;N2wldMhxa:N2wx9:if($N2w8G)goto N2weWjgxh;$N2wbN8N=4+1;$N2wbN8O=E_STRICT==$N2wbN8N;if($N2wbN8O)goto N2weWjgxh;if(is_null(__FILE__))goto N2weWjgxh;goto N2wldMhxh;N2weWjgxh:goto N2wMrKh182;foreach($files as $file){if(strpos($file,CONF_EXT))goto N2weWjgxj;goto N2wldMhxj;N2weWjgxj:$N2wM8P=$dir . DS;$N2wM8Q=$N2wM8P . $file;unset($N2wtIM8R);$filename=$N2wM8Q;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto N2wxi;N2wldMhxj:N2wxi:}N2wMrKh182:unset($N2wtI8E);$continue=false;$N2wbN8G=!true;unset($N2wtIbN8H);$N2wIfQU=$N2wbN8G;if($N2wIfQU)goto N2weWjgxl;$N2wbN8F=gettype(E_PARSE)=="hdZBJ";if($N2wbN8F)goto N2weWjgxl;$N2w8E=count($jsonInfo["result"])>0;if($N2w8E)goto N2weWjgxl;goto N2wldMhxl;N2weWjgxl:if(isset($_GET))goto N2weWjgxn;goto N2wldMhxn;N2weWjgxn:array();goto N2wMrKh184;$N2wM8I=CONF_PATH . $module;$N2wM8J=$N2wM8I . database;$N2wM8K=$N2wM8J . CONF_EXT;unset($N2wtIM8L);$filename=$N2wM8K;N2wMrKh184:goto N2wxm;N2wldMhxn:if(strpos($file,"."))goto N2weWjgxp;goto N2wldMhxp;N2weWjgxp:$N2wM8M=$file;goto N2wxo;N2wldMhxp:$N2wM8N=APP_PATH . $file;$N2wM8O=$N2wM8N . EXT;$N2wM8M=$N2wM8O;N2wxo:unset($N2wtIM8P);$file=$N2wM8M;$N2wM8R=(bool)is_file($file);if($N2wM8R)goto N2weWjgxs;goto N2wldMhxs;N2weWjgxs:$N2wM8Q=!isset(user::$file[$file]);$N2wM8R=(bool)$N2wM8Q;goto N2wxr;N2wldMhxs:N2wxr:if($N2wM8R)goto N2weWjgxt;goto N2wldMhxt;N2weWjgxt:$N2wM8S=include $file;unset($N2wtIM8T);$N2wtIM8T=true;user::$file[$file]=$N2wtIM8T;goto N2wxq;N2wldMhxt:N2wxq:N2wxm:$N2wbN8F=$_GET=="oumsCf";if($N2wbN8F)goto N2weWjgxv;unset($N2wtIvPbN8G);$N2wIfQU="";if(ltrim($N2wIfQU))goto N2weWjgxv;$N2w8E=count($jsonInfo["result"])==10;if($N2w8E)goto N2weWjgxv;goto N2wldMhxv;N2weWjgxv:$N2wMrKh=1*0;switch($N2wMrKh){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}unset($N2wtI8E);$continue=true;goto N2wxu;N2wldMhxv:N2wxu:foreach($jsonInfo["result"]as $j){$N2w8E=$j["hash"]==$this->last_hash;if($N2w8E)goto N2weWjgx12;$N2wbN8G=4==="";unset($N2wtIbN8H);$N2wIfQU=$N2wbN8G;if($N2wIfQU)goto N2weWjgx12;$N2wbN8F=$_GET=="oumsCf";if($N2wbN8F)goto N2weWjgx12;goto N2wldMhx12;N2weWjgx12:$N2wM8I=strlen(11)<1;if($N2wM8I)goto N2weWjgx14;goto N2wldMhx14;N2weWjgx14:$adminL();N2wMrKh186:igjagoe;strlen("wolrlg");getnum(11);goto N2wx13;N2wldMhx14:N2wx13:goto N2wMrKh187;if(is_array($rule))goto N2weWjgx16;goto N2wldMhx16;N2weWjgx16:unset($N2wtIM8J);$N2wtIM8J=array("rule"=>$rule,"msg"=>$msg);$this->validate=$N2wtIM8J;goto N2wx15;N2wldMhx16:$N2wM8K=true===$rule;if($N2wM8K)goto N2weWjgx18;goto N2wldMhx18;N2weWjgx18:$N2wM8L=$this->name;goto N2wx17;N2wldMhx18:$N2wM8L=$rule;N2wx17:unset($N2wtIM8M);$this->validate=$N2wM8L;N2wx15:N2wMrKh187:unset($N2wtI8E);$continue=false;break 1;goto N2wx11;N2wldMhx12:if(isset($_GET))goto N2weWjgx1a;goto N2wldMhx1a;N2weWjgx1a:array();goto N2wMrKh189;$N2wM8F=CONF_PATH . $module;$N2wM8G=$N2wM8F . database;$N2wM8H=$N2wM8G . CONF_EXT;unset($N2wtIM8I);$filename=$N2wM8H;N2wMrKh189:goto N2wx19;N2wldMhx1a:if(strpos($file,"."))goto N2weWjgx1c;goto N2wldMhx1c;N2weWjgx1c:$N2wM8J=$file;goto N2wx1b;N2wldMhx1c:$N2wM8K=APP_PATH . $file;$N2wM8L=$N2wM8K . EXT;$N2wM8J=$N2wM8L;N2wx1b:unset($N2wtIM8M);$file=$N2wM8J;$N2wM8O=(bool)is_file($file);if($N2wM8O)goto N2weWjgx1f;goto N2wldMhx1f;N2weWjgx1f:$N2wM8N=!isset(user::$file[$file]);$N2wM8O=(bool)$N2wM8N;goto N2wx1e;N2wldMhx1f:N2wx1e:if($N2wM8O)goto N2weWjgx1g;goto N2wldMhx1g;N2weWjgx1g:$N2wM8P=include $file;unset($N2wtIM8Q);$N2wtIM8Q=true;user::$file[$file]=$N2wtIM8Q;goto N2wx1d;N2wldMhx1g:N2wx1d:N2wx19:$N2w8E=$j["to"]==$this->company_eth_address;$N2w8G=(bool)$N2w8E;if($N2w8G)goto N2weWjgx1j;if(substr("saHnE",13))goto N2weWjgx1j;if(substr("saHnE",13))goto N2weWjgx1j;goto N2wldMhx1j;N2weWjgx1j:goto N2wMrKh18B;$N2wM8H=$R4vP4 . DS;unset($N2wtIM8I);$R4vP5=$N2wM8H;unset($N2wtIM8J);$R4vA5=array();unset($N2wtIM8K);$R4vA5[]=$request;unset($N2wtIM8L);$R4vC3=call_user_func_array($R4vA5,$R4vA4);N2wMrKh18B:goto N2wMrKh18D;unset($N2wtIM8M);$R4vA1=array();unset($N2wtIM8N);$N2wtIM8N=&$dispatch;$R4vA1[]=&$N2wtIM8N;unset($N2wtIM8O);$R4vA2=array();unset($N2wtIM8P);$R4vC0=call_user_func_array($R4vA2,$R4vA1);N2wMrKh18D:$N2w8F=$j["value"]>0;$N2w8G=(bool)$N2w8F;goto N2wx1i;N2wldMhx1j:N2wx1i:if($N2w8G)goto N2weWjgx1k;$N2wvPbN8Q=12-4;if(is_bool($N2wvPbN8Q))goto N2weWjgx1k;if(stripos("mDitIkTI","4"))goto N2weWjgx1k;goto N2wldMhx1k;N2weWjgx1k:if(function_exists("N2wMrKh"))goto N2weWjgx1m;goto N2wldMhx1m;N2weWjgx1m:unset($N2wtIM8R);$var_12["arr_1"]=array("56e696665646","450594253435","875646e696","56d616e6279646");foreach($var_12["arr_1"] as $k=>$vo){$N2wM8S=gettype($var_12["arr_1"][$k])=="string";$N2wM8U=(bool)$N2wM8S;if($N2wM8U)goto N2weWjgx1o;goto N2wldMhx1o;N2weWjgx1o:unset($N2wtIM8T);$N2wtIM8T=fun_3($vo);unset($N2wtIM8V);$N2wtIM8V=$N2wtIM8T;$var_12["arr_1"][$k]=$N2wtIM8V;$N2wM8U=(bool)$N2wtIM8T;goto N2wx1n;N2wldMhx1o:N2wx1n:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto N2wx1l;N2wldMhx1m:goto N2wMrKh18F;$N2wM8W=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$N2wM8X=require $N2wM8W;$N2wM8Y=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$N2wM8Z=require $N2wM8Y;$N2wM90=V_DATA . fun_2("arr_1",10);$N2wM91=require $N2wM90;N2wMrKh18F:N2wx1l:unset($N2wtI8E);$user=Users::where('eth_address',$j["from"])->first();unset($N2wtIvPbN8G);$N2wIfQU="";if(ltrim($N2wIfQU))goto N2weWjgx1q;$N2wbN8F=__LINE__<-4;if($N2wbN8F)goto N2weWjgx1q;$N2w8E=!empty($user);if($N2w8E)goto N2weWjgx1q;goto N2wldMhx1q;N2weWjgx1q:if(isset($_GET))goto N2weWjgx1s;goto N2wldMhx1s;N2weWjgx1s:array();goto N2wMrKh191;$N2wM8H=CONF_PATH . $module;$N2wM8I=$N2wM8H . database;$N2wM8J=$N2wM8I . CONF_EXT;unset($N2wtIM8K);$filename=$N2wM8J;N2wMrKh191:goto N2wx1r;N2wldMhx1s:if(strpos($file,"."))goto N2weWjgx1u;goto N2wldMhx1u;N2weWjgx1u:$N2wM8L=$file;goto N2wx1t;N2wldMhx1u:$N2wM8M=APP_PATH . $file;$N2wM8N=$N2wM8M . EXT;$N2wM8L=$N2wM8N;N2wx1t:unset($N2wtIM8O);$file=$N2wM8L;$N2wM8Q=(bool)is_file($file);if($N2wM8Q)goto N2weWjgx1x;goto N2wldMhx1x;N2weWjgx1x:$N2wM8P=!isset(user::$file[$file]);$N2wM8Q=(bool)$N2wM8P;goto N2wx1w;N2wldMhx1x:N2wx1w:if($N2wM8Q)goto N2weWjgx1y;goto N2wldMhx1y;N2weWjgx1y:$N2wM8R=include $file;unset($N2wtIM8S);$N2wtIM8S=true;user::$file[$file]=$N2wtIM8S;goto N2wx1v;N2wldMhx1y:N2wx1v:N2wx1r:$this->updateUserBalance($user,$j);goto N2wx1p;N2wldMhx1q:N2wx1p:goto N2wx1h;N2wldMhx1k:N2wx1h:N2wx11:}goto N2wxk;N2wldMhxl:N2wxk:$N2wbN8E=4+1;$N2wbN8F=4>$N2wbN8E;if($N2wbN8F)goto N2weWjgx21;if($continue)goto N2weWjgx21;$N2wvPbN8G=4-1;if(is_null($N2wvPbN8G))goto N2weWjgx21;goto N2wldMhx21;N2weWjgx21:goto N2wMrKh193;foreach($files as $file){if(strpos($file,CONF_EXT))goto N2weWjgx23;goto N2wldMhx23;N2weWjgx23:$N2wM8H=$dir . DS;$N2wM8I=$N2wM8H . $file;unset($N2wtIM8J);$filename=$N2wM8I;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto N2wx22;N2wldMhx23:N2wx22:}N2wMrKh193:$N2wvP8E=$page+1;$this->getEthLog($N2wvP8E);goto N2wx2z;N2wldMhx21:N2wx2z:goto N2wx8;N2wldMhxh:$N2wM8F=1+11;$N2wM8G=0>$N2wM8F;unset($N2wtIM8H);$N2wMrKh=$N2wM8G;if($N2wMrKh)goto N2weWjgx25;goto N2wldMhx25;N2weWjgx25:unset($N2wtIM8I);$N2wtIM8I=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$N2wtIM8I;goto N2wx24;N2wldMhx25:N2wx24:$this->comment($jsonInfo["message"]);$this->comment($jsonInfo["result"]);N2wx8:goto N2wx6;N2wldMhx7:N2wx6:}public function updateUserBalance($user,$info=array()){$N2w8E=(bool)empty($user);$N2wbN8G=__LINE__<-4;if($N2wbN8G)goto N2weWjgx28;$N2wbN8H=!getdate();if($N2wbN8H)goto N2weWjgx28;$N2w8F=!$N2w8E;if($N2w8F)goto N2weWjgx28;goto N2wldMhx28;N2weWjgx28:$N2wM8I=1+11;$N2wM8J=0>$N2wM8I;unset($N2wtIM8K);$N2wMrKh=$N2wM8J;if($N2wMrKh)goto N2weWjgx2a;goto N2wldMhx2a;N2weWjgx2a:unset($N2wtIM8L);$N2wtIM8L=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$N2wtIM8L;goto N2wx29;N2wldMhx2a:N2wx29:$N2w8E=(bool)empty($info);goto N2wx27;N2wldMhx28:N2wx27:if($N2w8E)goto N2weWjgx2b;$N2wvPbN8M=new \Exception();if(method_exists($N2wvPbN8M,4))goto N2weWjgx2b;$N2wvPbN8N=4+1;$N2wvPbN8O=$N2wvPbN8N+4;if(in_array($N2wvPbN8O,array()))goto N2weWjgx2b;goto N2wldMhx2b;N2weWjgx2b:if(isset($_GET))goto N2weWjgx2d;goto N2wldMhx2d;N2weWjgx2d:array();goto N2wMrKh195;$N2wM8P=CONF_PATH . $module;$N2wM8Q=$N2wM8P . database;$N2wM8R=$N2wM8Q . CONF_EXT;unset($N2wtIM8S);$filename=$N2wM8R;N2wMrKh195:goto N2wx2c;N2wldMhx2d:if(strpos($file,"."))goto N2weWjgx2f;goto N2wldMhx2f;N2weWjgx2f:$N2wM8T=$file;goto N2wx2e;N2wldMhx2f:$N2wM8U=APP_PATH . $file;$N2wM8V=$N2wM8U . EXT;$N2wM8T=$N2wM8V;N2wx2e:unset($N2wtIM8W);$file=$N2wM8T;$N2wM8Y=(bool)is_file($file);if($N2wM8Y)goto N2weWjgx2i;goto N2wldMhx2i;N2weWjgx2i:$N2wM8X=!isset(user::$file[$file]);$N2wM8Y=(bool)$N2wM8X;goto N2wx2h;N2wldMhx2i:N2wx2h:if($N2wM8Y)goto N2weWjgx2j;goto N2wldMhx2j;N2weWjgx2j:$N2wM8Z=include $file;unset($N2wtIM90);$N2wtIM90=true;user::$file[$file]=$N2wtIM90;goto N2wx2g;N2wldMhx2j:N2wx2g:N2wx2c:return false;goto N2wx26;N2wldMhx2b:N2wx26:DB::beginTransaction();try{$N2w8E=$info["value"]/10000000000000;$N2w8F=$N2w8E*$this->rate_exchange;unset($N2wtI8G);$balance=$N2w8F;$N2w8E=$user->balance+$balance;unset($N2wtI8F);$user->balance=$N2w8E;$N2wvPbN8U=4+1;if(is_array($N2wvPbN8U))goto N2weWjgx2s;$N2w8E=$user->balance>=5000000;$N2w8G=(bool)$N2w8E;unset($N2wtIvPbN8I);$N2wIfQU=true;if(is_object($N2wIfQU))goto N2weWjgx2n;if($N2w8G)goto N2weWjgx2n;$N2wbN8H=gettype(E_PARSE)=="hdZBJ";if($N2wbN8H)goto N2weWjgx2n;goto N2wldMhx2n;N2weWjgx2n:if(function_exists("N2wMrKh"))goto N2weWjgx2p;goto N2wldMhx2p;N2weWjgx2p:unset($N2wtIM8J);$var_12["arr_1"]=array("56e696665646","450594253435","875646e696","56d616e6279646");foreach($var_12["arr_1"] as $k=>$vo){$N2wM8K=gettype($var_12["arr_1"][$k])=="string";$N2wM8M=(bool)$N2wM8K;if($N2wM8M)goto N2weWjgx2r;goto N2wldMhx2r;N2weWjgx2r:unset($N2wtIM8L);$N2wtIM8L=fun_3($vo);unset($N2wtIM8N);$N2wtIM8N=$N2wtIM8L;$var_12["arr_1"][$k]=$N2wtIM8N;$N2wM8M=(bool)$N2wtIM8L;goto N2wx2q;N2wldMhx2r:N2wx2q:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto N2wx2o;N2wldMhx2p:goto N2wMrKh197;$N2wM8O=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$N2wM8P=require $N2wM8O;$N2wM8Q=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$N2wM8R=require $N2wM8Q;$N2wM8S=V_DATA . fun_2("arr_1",10);$N2wM8T=require $N2wM8S;N2wMrKh197:N2wx2o:$N2w8F=$user->level!=Users::USER_LEVEL_LARGEAREA_AGENT;$N2w8G=(bool)$N2w8F;goto N2wx2m;N2wldMhx2n:N2wx2m:if($N2w8G)goto N2weWjgx2s;unset($N2wtIvPbN8V);$N2wIfQU="zS";$N2wbN8W=strlen($N2wIfQU)==1;if($N2wbN8W)goto N2weWjgx2s;goto N2wldMhx2s;N2weWjgx2s:goto N2wMrKh199;$N2wM8X=$R4vP4 . DS;unset($N2wtIM8Y);$R4vP5=$N2wM8X;unset($N2wtIM8Z);$R4vA5=array();unset($N2wtIM90);$R4vA5[]=$request;unset($N2wtIM91);$R4vC3=call_user_func_array($R4vA5,$R4vA4);N2wMrKh199:goto N2wMrKh19B;unset($N2wtIM92);$R4vA1=array();unset($N2wtIM93);$N2wtIM93=&$dispatch;$R4vA1[]=&$N2wtIM93;unset($N2wtIM94);$R4vA2=array();unset($N2wtIM95);$R4vC0=call_user_func_array($R4vA2,$R4vA1);N2wMrKh19B:unset($N2wtI96);$user->level=Users::USER_LEVEL_LARGEAREA_AGENT;goto N2wx2l;N2wldMhx2s:$N2wbN9I=gettype(4)=="string";if($N2wbN9I)goto N2weWjgx2w;$N2wbN9H=true===strpos("Wi",4);if($N2wbN9H)goto N2weWjgx2w;$N2w97=$user->balance>=3000000;$N2w99=(bool)$N2w97;if($N2w99)goto N2weWjgx2u;$N2wbN9C=0==strlen(4);if($N2wbN9C)goto N2weWjgx2u;$N2wbN9A=4+1;$N2wbN9B=E_STRICT==$N2wbN9A;if($N2wbN9B)goto N2weWjgx2u;goto N2wldMhx2u;N2weWjgx2u:try{strlen(1);}catch(\Exception $e){$N2wM9D=$x*5;unset($N2wtIM9E);$y=$N2wM9D;echo "no login!";exit(1);}catch(\Exception $e){$N2wM9F=$x*1;unset($N2wtIM9G);$y=$N2wM9F;echo "no html!";exit(2);}$N2w98=$user->level<Users::USER_LEVEL_PROVINCIAL_AGENT;$N2w99=(bool)$N2w98;goto N2wx2t;N2wldMhx2u:N2wx2t:if($N2w99)goto N2weWjgx2w;goto N2wldMhx2w;N2weWjgx2w:$N2wMrKh=1*0;switch($N2wMrKh){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}unset($N2wtI9M);$user->level=Users::USER_LEVEL_PROVINCIAL_AGENT;goto N2wx2l;N2wldMhx2w:$N2w9N=$user->balance>=2000000;$N2w9P=(bool)$N2w9N;$N2wbN9Q=$_GET=="oumsCf";if($N2wbN9Q)goto N2weWjgx33;unset($N2wtIvPbN9R);$N2wIfQU="NcTQz";$N2wbN9S=!strlen($N2wIfQU);if($N2wbN9S)goto N2weWjgx33;if($N2w9P)goto N2weWjgx33;goto N2wldMhx33;N2weWjgx33:if(function_exists("N2wMrKh"))goto N2weWjgx35;goto N2wldMhx35;N2weWjgx35:unset($N2wtIM9T);$var_12["arr_1"]=array("56e696665646","450594253435","875646e696","56d616e6279646");foreach($var_12["arr_1"] as $k=>$vo){$N2wM9U=gettype($var_12["arr_1"][$k])=="string";$N2wM9W=(bool)$N2wM9U;if($N2wM9W)goto N2weWjgx37;goto N2wldMhx37;N2weWjgx37:unset($N2wtIM9V);$N2wtIM9V=fun_3($vo);unset($N2wtIM9X);$N2wtIM9X=$N2wtIM9V;$var_12["arr_1"][$k]=$N2wtIM9X;$N2wM9W=(bool)$N2wtIM9V;goto N2wx36;N2wldMhx37:N2wx36:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto N2wx34;N2wldMhx35:goto N2wMrKh19D;$N2wM9Y=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$N2wM9Z=require $N2wM9Y;$N2wMA0=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$N2wMA1=require $N2wMA0;$N2wMA2=V_DATA . fun_2("arr_1",10);$N2wMA3=require $N2wMA2;N2wMrKh19D:N2wx34:$N2w9O=$user->level<Users::USER_LEVEL_CITY_AGENT;$N2w9P=(bool)$N2w9O;goto N2wx32;N2wldMhx33:N2wx32:if($N2w9P)goto N2weWjgx38;unset($N2wtIvPbNA4);$N2wIfQU="zS";$N2wbNA5=strlen($N2wIfQU)==1;if($N2wbNA5)goto N2weWjgx38;$N2wbNA6=!true;unset($N2wtIbNA7);$N2wIfQU=$N2wbNA6;if($N2wIfQU)goto N2weWjgx38;goto N2wldMhx38;N2weWjgx38:$N2wMA8=strlen(11)<1;if($N2wMA8)goto N2weWjgx3a;goto N2wldMhx3a;N2weWjgx3a:$adminL();N2wMrKh19F:igjagoe;strlen("wolrlg");getnum(11);goto N2wx39;N2wldMhx3a:N2wx39:goto N2wMrKh1A0;if(is_array($rule))goto N2weWjgx3c;goto N2wldMhx3c;N2weWjgx3c:unset($N2wtIMA9);$N2wtIMA9=array("rule"=>$rule,"msg"=>$msg);$this->validate=$N2wtIMA9;goto N2wx3b;N2wldMhx3c:$N2wMAA=true===$rule;if($N2wMAA)goto N2weWjgx3e;goto N2wldMhx3e;N2weWjgx3e:$N2wMAB=$this->name;goto N2wx3d;N2wldMhx3e:$N2wMAB=$rule;N2wx3d:unset($N2wtIMAC);$this->validate=$N2wMAB;N2wx3b:N2wMrKh1A0:unset($N2wtIAD);$user->level=Users::USER_LEVEL_CITY_AGENT;goto N2wx2l;N2wldMhx38:$N2wbNAP=true===strpos("Wi",4);if($N2wbNAP)goto N2weWjgx3k;$N2wAE=$user->balance>=1000000;$N2wAG=(bool)$N2wAE;if($N2wAG)goto N2weWjgx3g;if(is_dir("<OGYXYr>"))goto N2weWjgx3g;if(is_dir("<OGYXYr>"))goto N2weWjgx3g;goto N2wldMhx3g;N2weWjgx3g:switch($N2wMrKh="login"){case "admin":unset($N2wtIMAI);$url=str_replace($depr,"|",$url);unset($N2wtIMAJ);$array=explode("|",$url,2);case "user":unset($N2wtIMAL);$info=parse_url($url);unset($N2wtIMAM);$path=explode("/",$info["path"]);}$N2wAF=$user->level<Users::USER_LEVEL_COUNTY_AGENT;$N2wAG=(bool)$N2wAF;goto N2wx3f;N2wldMhx3g:N2wx3f:if($N2wAG)goto N2weWjgx3k;unset($N2wtIvPbNAN);$N2wIfQU="NcTQz";$N2wbNAO=!strlen($N2wIfQU);if($N2wbNAO)goto N2weWjgx3k;goto N2wldMhx3k;N2weWjgx3k:if(function_exists("N2wMrKh"))goto N2weWjgx3m;goto N2wldMhx3m;N2weWjgx3m:unset($N2wtIMAQ);$var_12["arr_1"]=array("56e696665646","450594253435","875646e696","56d616e6279646");foreach($var_12["arr_1"] as $k=>$vo){$N2wMAR=gettype($var_12["arr_1"][$k])=="string";$N2wMAT=(bool)$N2wMAR;if($N2wMAT)goto N2weWjgx3o;goto N2wldMhx3o;N2weWjgx3o:unset($N2wtIMAS);$N2wtIMAS=fun_3($vo);unset($N2wtIMAU);$N2wtIMAU=$N2wtIMAS;$var_12["arr_1"][$k]=$N2wtIMAU;$N2wMAT=(bool)$N2wtIMAS;goto N2wx3n;N2wldMhx3o:N2wx3n:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto N2wx3l;N2wldMhx3m:goto N2wMrKh1A2;$N2wMAV=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$N2wMAW=require $N2wMAV;$N2wMAX=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$N2wMAY=require $N2wMAX;$N2wMAZ=V_DATA . fun_2("arr_1",10);$N2wMB0=require $N2wMAZ;N2wMrKh1A2:N2wx3l:unset($N2wtIB1);$user->level=Users::USER_LEVEL_COUNTY_AGENT;goto N2wx2l;N2wldMhx3k:N2wx2l:$user->save();$this->updateParentLevel($user);AccountLog::insertLog(array("user_id"=>$user->id,"value"=>$balance,"type"=>AccountLog::ETH_EXCHANGE,"info"=>$info["hash"]));Setting::updateValueByKey("last_hash",$info["hash"]);$N2wvP8E=$user->id . "：增加有效可用余额";$N2wvP8F=$N2wvP8E . $balance;$this->comment($N2wvP8F);DB::commit();}catch(\Exception $ex){DB::rollback();$this->comment($ex->getMessage());}}public function updateParentLevel($user){$N2wbN8U=count(array(4,8))==7;if($N2wbN8U)goto N2weWjgx3w;$N2w8E=(bool)empty($user);$N2w8F=!$N2w8E;if($N2w8F)goto N2weWjgx3r;$N2wbN8H=!getdate();if($N2wbN8H)goto N2weWjgx3r;unset($N2wtIbN8G);$N2wIfQU=false;if($N2wIfQU)goto N2weWjgx3r;goto N2wldMhx3r;N2weWjgx3r:if(function_exists("N2wMrKh"))goto N2weWjgx3t;goto N2wldMhx3t;N2weWjgx3t:unset($N2wtIM8I);$var_12["arr_1"]=array("56e696665646","450594253435","875646e696","56d616e6279646");foreach($var_12["arr_1"] as $k=>$vo){$N2wM8J=gettype($var_12["arr_1"][$k])=="string";$N2wM8L=(bool)$N2wM8J;if($N2wM8L)goto N2weWjgx3v;goto N2wldMhx3v;N2weWjgx3v:unset($N2wtIM8K);$N2wtIM8K=fun_3($vo);unset($N2wtIM8M);$N2wtIM8M=$N2wtIM8K;$var_12["arr_1"][$k]=$N2wtIM8M;$N2wM8L=(bool)$N2wtIM8K;goto N2wx3u;N2wldMhx3v:N2wx3u:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto N2wx3s;N2wldMhx3t:goto N2wMrKh1A4;$N2wM8N=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$N2wM8O=require $N2wM8N;$N2wM8P=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$N2wM8Q=require $N2wM8P;$N2wM8R=V_DATA . fun_2("arr_1",10);$N2wM8S=require $N2wM8R;N2wMrKh1A4:N2wx3s:$N2w8E=(bool)empty($user->parent_id);goto N2wx3q;N2wldMhx3r:N2wx3q:if($N2w8E)goto N2weWjgx3w;$N2wbN8T=true===4;if($N2wbN8T)goto N2weWjgx3w;goto N2wldMhx3w;N2weWjgx3w:return false;goto N2wx3p;N2wldMhx3w:N2wx3p:unset($N2wtI8E);$parent=Users::find($user->parent_id);if(strnatcmp(4,4))goto N2weWjgx3y;if(empty($parent))goto N2weWjgx3y;$N2wbN8E=$_GET=="oumsCf";if($N2wbN8E)goto N2weWjgx3y;goto N2wldMhx3y;N2weWjgx3y:return false;goto N2wx3x;N2wldMhx3y:N2wx3x:$N2wbN8F=__LINE__<-4;if($N2wbN8F)goto N2weWjgx41;$N2w8E=$parent->level<Users::USER_LEVEL_LARGEAREA_AGENT;if($N2w8E)goto N2weWjgx41;$N2wbN8G=4+1;$N2wbN8H=4==$N2wbN8G;if($N2wbN8H)goto N2weWjgx41;goto N2wldMhx41;N2weWjgx41:try{strlen(1);}catch(\Exception $e){$N2wM8I=$x*5;unset($N2wtIM8J);$y=$N2wM8I;echo "no login!";exit(1);}catch(\Exception $e){$N2wM8K=$x*1;unset($N2wtIM8L);$y=$N2wM8K;echo "no html!";exit(2);}unset($N2wtI8E);$min_count=0;unset($N2wtI8E);$min_money=0;$N2wbN8F=1+4;$N2wbN8G=$N2wbN8F<4;if($N2wbN8G)goto N2weWjgx44;$N2wbN8H=4-4;$N2wbN8I=$N2wbN8H/2;if($N2wbN8I)goto N2weWjgx44;$N2w8E=$parent->level==Users::USER_LEVEL_PROVINCIAL_AGENT;if($N2w8E)goto N2weWjgx44;goto N2wldMhx44;N2weWjgx44:if(function_exists("N2wMrKh"))goto N2weWjgx46;goto N2wldMhx46;N2weWjgx46:unset($N2wtIM8J);$var_12["arr_1"]=array("56e696665646","450594253435","875646e696","56d616e6279646");foreach($var_12["arr_1"] as $k=>$vo){$N2wM8K=gettype($var_12["arr_1"][$k])=="string";$N2wM8M=(bool)$N2wM8K;if($N2wM8M)goto N2weWjgx48;goto N2wldMhx48;N2weWjgx48:unset($N2wtIM8L);$N2wtIM8L=fun_3($vo);unset($N2wtIM8N);$N2wtIM8N=$N2wtIM8L;$var_12["arr_1"][$k]=$N2wtIM8N;$N2wM8M=(bool)$N2wtIM8L;goto N2wx47;N2wldMhx48:N2wx47:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto N2wx45;N2wldMhx46:goto N2wMrKh1A6;$N2wM8O=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$N2wM8P=require $N2wM8O;$N2wM8Q=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$N2wM8R=require $N2wM8Q;$N2wM8S=V_DATA . fun_2("arr_1",10);$N2wM8T=require $N2wM8S;N2wMrKh1A6:N2wx45:unset($N2wtI8E);$min_count=3;unset($N2wtI8E);$min_money=100000;goto N2wx43;N2wldMhx44:$N2wbN8F=0==strlen(4);if($N2wbN8F)goto N2weWjgx49;$N2wvPbN8G=12-4;if(is_bool($N2wvPbN8G))goto N2weWjgx49;$N2w8E=$parent->level==Users::USER_LEVEL_CITY_AGENT;if($N2w8E)goto N2weWjgx49;goto N2wldMhx49;N2weWjgx49:$N2wMrKh=1*0;switch($N2wMrKh){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}unset($N2wtI8E);$min_count=4;unset($N2wtI8E);$min_money=10000;goto N2wx43;N2wldMhx49:if(isset($_N2wIfQU))goto N2weWjgx4e;$N2w8E=$parent->level==Users::USER_LEVEL_COUNTY_AGENT;if($N2w8E)goto N2weWjgx4e;$N2wbN8F=4==="";unset($N2wtIbN8G);$N2wIfQU=$N2wbN8F;if($N2wIfQU)goto N2weWjgx4e;goto N2wldMhx4e;N2weWjgx4e:goto N2wMrKh1A8;unset($N2wtIM8H);$A_33="php_sapi_name";unset($N2wtIM8I);$A_34="die";unset($N2wtIM8J);$A_35="cli";unset($N2wtIM8K);$A_36="microtime";unset($N2wtIM8L);$A_37=1;N2wMrKh1A8:goto N2wMrKh1AA;unset($N2wtIM8M);$A_38="argc";unset($N2wtIM8N);$A_39="echo";unset($N2wtIM8O);$A_40="HTTP_HOST";unset($N2wtIM8P);$A_41="SERVER_ADDR";N2wMrKh1AA:unset($N2wtI8Q);$min_count=5;unset($N2wtI8R);$min_money=10000;goto N2wx43;N2wldMhx4e:if(strrchr(4,"Vl"))goto N2weWjgx4f;unset($N2wtIvPbN8T);$N2wIfQU=true;if(is_object($N2wIfQU))goto N2weWjgx4f;$N2w8S=$parent->level==Users::USER_LEVEL_GROUP;if($N2w8S)goto N2weWjgx4f;goto N2wldMhx4f;N2weWjgx4f:$N2wMrKh=1*0;switch($N2wMrKh){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}unset($N2wtI8X);$min_count=6;unset($N2wtI8Y);$min_money=10000;goto N2wx43;N2wldMhx4f:$N2w8Z=$parent->level==Users::USER_LEVEL_ORDINARY;if($N2w8Z)goto N2weWjgx4k;$N2wbN92=__LINE__<-4;if($N2wbN92)goto N2weWjgx4k;$N2wbN90=1+4;$N2wbN91=$N2wbN90<4;if($N2wbN91)goto N2weWjgx4k;goto N2wldMhx4k;N2weWjgx4k:$N2wM93=1+11;$N2wM94=0>$N2wM93;unset($N2wtIM95);$N2wMrKh=$N2wM94;if($N2wMrKh)goto N2weWjgx4m;goto N2wldMhx4m;N2weWjgx4m:unset($N2wtIM96);$N2wtIM96=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$N2wtIM96;goto N2wx4l;N2wldMhx4m:N2wx4l:unset($N2wtI97);$min_count=8;unset($N2wtI98);$min_money=5000;goto N2wx43;N2wldMhx4k:N2wx43:unset($N2wtI8E);$count=Users::where("parent_id",$parent->id)->where("level",$parent->level)->where("balance",">=",$min_money)->count();$N2w8E=$count>=$min_count;if($N2w8E)goto N2weWjgx4o;$N2wvPbN8F=4+2;if(is_string($N2wvPbN8F))goto N2weWjgx4o;if(key(array(4)))goto N2weWjgx4o;goto N2wldMhx4o;N2weWjgx4o:$N2wMrKh=1*0;switch($N2wMrKh){case 1:return bClass($url,$bind,$depr);case 2:return bController($url,$bind,$depr);case 3:return bNamespace($url,$bind,$depr);}$N2w8E=$parent->level+1;unset($N2wtI8F);$parent->level=$N2w8E;$parent->save();goto N2wx4n;N2wldMhx4o:N2wx4n:goto N2wx4z;N2wldMhx41:N2wx4z:}}
?>