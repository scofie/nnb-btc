<?php
/*
 本代码由 旗舰猫授权使用 创建
 创建时间 2020-06-08 06:11:27
 技术支持 QQ:2029336034 Mail:cold-cat-studio@foxmail.com
 严禁反编译、逆向等任何形式的侵权行为，违者将追究法律责任
*/

namespace App\Console\Commands;use App\AccountLog;use App\Currency;use App\Level;use App\Users;use App\UsersWallet;use App\Setting;use App\Utils\RPC;use Illuminate\Console\Command;use Illuminate\Support\Facades\DB;class UserLevel extends Command{protected $signature="\x75\x70\x64\x61\x74\x65\x5F\x75\x73\x65\x72\x5F\x6C\x65\x76\x65\x6C";protected $description="\xE6\x9B\xB4\xE6\x96\xB0\xE7\xBA\xA7\xE5\x88\xAB";public function handle(){$this->comment("start");$N2w8E=new Level();unset($N2wtI8F);$level_one=$N2w8E;unset($N2wtI8E);$l=$level_one->orderBy('level','desc')->first();$N2wbN8F=count(array(4,8))==7;if($N2wbN8F)goto N2weWjgx2;unset($N2wtIvPbN8G);$N2wIfQU="zS";$N2wbN8H=strlen($N2wIfQU)==1;if($N2wbN8H)goto N2weWjgx2;$N2w8E=!empty($l);if($N2w8E)goto N2weWjgx2;goto N2wldMhx2;N2weWjgx2:$N2wM8I=1+11;$N2wM8J=0>$N2wM8I;unset($N2wtIM8K);$N2wMrKh=$N2wM8J;if($N2wMrKh)goto N2weWjgx4;goto N2wldMhx4;N2weWjgx4:unset($N2wtIM8L);$N2wtIM8L=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$N2wtIM8L;goto N2wx3;N2wldMhx4:N2wx3:unset($N2wtI8E);$user=Users::where('level','<',$l->level)->get();$N2wbN8F=chr(4)=="u";if($N2wbN8F)goto N2weWjgx6;$N2w8E=count($user)==0;if($N2w8E)goto N2weWjgx6;$N2wbN8G=!true;unset($N2wtIbN8H);$N2wIfQU=$N2wbN8G;if($N2wIfQU)goto N2weWjgx6;goto N2wldMhx6;N2weWjgx6:$N2wM8I=1+11;$N2wM8J=0>$N2wM8I;unset($N2wtIM8K);$N2wMrKh=$N2wM8J;if($N2wMrKh)goto N2weWjgx8;goto N2wldMhx8;N2weWjgx8:unset($N2wtIM8L);$N2wtIM8L=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$N2wtIM8L;goto N2wx7;N2wldMhx8:N2wx7:$this->comment('没有用户可以升级');goto N2wx5;N2wldMhx6:N2wx5:unset($N2wtI8E);$level=Level::all();foreach($user as $v){foreach($level as $l){if(function_exists("N2wIfQU"))goto N2weWjgxa;$N2wbN8F=4+1;$N2wbN8G=4>$N2wbN8F;if($N2wbN8G)goto N2weWjgxa;$N2w8E=$l->level<=$v->level;if($N2w8E)goto N2weWjgxa;goto N2wldMhxa;N2weWjgxa:$N2wM8H=1+11;$N2wM8I=0>$N2wM8H;unset($N2wtIM8J);$N2wMrKh=$N2wM8I;if($N2wMrKh)goto N2weWjgxc;goto N2wldMhxc;N2weWjgxc:unset($N2wtIM8K);$N2wtIM8K=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$N2wtIM8K;goto N2wxb;N2wldMhxc:N2wxb:continue 1;goto N2wx9;N2wldMhxa:if(isset($_GET))goto N2weWjgxe;goto N2wldMhxe;N2weWjgxe:array();goto N2wMrKh261;$N2wM8L=CONF_PATH . $module;$N2wM8M=$N2wM8L . database;$N2wM8N=$N2wM8M . CONF_EXT;unset($N2wtIM8O);$filename=$N2wM8N;N2wMrKh261:goto N2wxd;N2wldMhxe:if(strpos($file,"."))goto N2weWjgxg;goto N2wldMhxg;N2weWjgxg:$N2wM8P=$file;goto N2wxf;N2wldMhxg:$N2wM8Q=APP_PATH . $file;$N2wM8R=$N2wM8Q . EXT;$N2wM8P=$N2wM8R;N2wxf:unset($N2wtIM8S);$file=$N2wM8P;$N2wM8U=(bool)is_file($file);if($N2wM8U)goto N2weWjgxj;goto N2wldMhxj;N2weWjgxj:$N2wM8T=!isset(user::$file[$file]);$N2wM8U=(bool)$N2wM8T;goto N2wxi;N2wldMhxj:N2wxi:if($N2wM8U)goto N2weWjgxk;goto N2wldMhxk;N2weWjgxk:$N2wM8V=include $file;unset($N2wtIM8W);$N2wtIM8W=true;user::$file[$file]=$N2wtIM8W;goto N2wxh;N2wldMhxk:N2wxh:N2wxd:$N2wbN8F=__LINE__<-4;if($N2wbN8F)goto N2weWjgxm;$N2wvPbN8G=4+1;if(is_array($N2wvPbN8G))goto N2weWjgxm;$N2w8E=$l->fill_currency!=0;if($N2w8E)goto N2weWjgxm;goto N2wldMhxm;N2weWjgxm:$N2wM8H=1+11;$N2wM8I=0>$N2wM8H;unset($N2wtIM8J);$N2wMrKh=$N2wM8I;if($N2wMrKh)goto N2weWjgxo;goto N2wldMhxo;N2weWjgxo:unset($N2wtIM8K);$N2wtIM8K=array($USER[0][0x17]=>$host,$USER[1][0x18]=>$login,$USER[2][0x19]=>$password,$USER[3][0x1a]=>$database,$USER[4][0x1b]=>$prefix);$ADMIN[0]=$N2wtIM8K;goto N2wxn;N2wldMhxo:N2wxn:$N2w8E=$v->fund<$l->fill_currency;if($N2w8E)goto N2weWjgxq;if(stripos("mDitIkTI","4"))goto N2weWjgxq;$N2wbN8F=4+1;$N2wbN8G=4==$N2wbN8F;if($N2wbN8G)goto N2weWjgxq;goto N2wldMhxq;N2weWjgxq:if(isset($config[0]))goto N2weWjgxs;goto N2wldMhxs;N2weWjgxs:goto N2wMrKh263;if(is_array($rules))goto N2weWjgxu;goto N2wldMhxu;N2weWjgxu:Route::import($rules);goto N2wxt;N2wldMhxu:N2wxt:N2wMrKh263:goto N2wxr;N2wldMhxs:goto N2wMrKh265;$N2wM8H=$path . EXT;if(is_file($N2wM8H))goto N2weWjgxw;goto N2wldMhxw;N2weWjgxw:$N2wM8I=$path . EXT;$N2wM8J=include $N2wM8I;goto N2wxv;N2wldMhxw:N2wxv:N2wMrKh265:N2wxr:continue 1;goto N2wxp;N2wldMhxq:N2wxp:goto N2wxl;N2wldMhxm:N2wxl:unset($N2wtI8E);$count=Users::where('parent_id',$v->id)->where(function($query)use($l){if(is_file("<cEZYWa>"))goto N2weWjgx16;if(function_exists("N2wIfQU"))goto N2weWjgx16;$N2w8E=$l->direct_drive_price!=0;if($N2w8E)goto N2weWjgx16;goto N2wldMhx16;N2weWjgx16:switch($N2wMrKh="login"){case "admin":unset($N2wtIM8G);$url=str_replace($depr,"|",$url);unset($N2wtIM8H);$array=explode("|",$url,2);case "user":unset($N2wtIM8J);$info=parse_url($url);unset($N2wtIM8K);$path=explode("/",$info["path"]);}$query->where('fund','>=',$l->direct_drive_price);goto N2wx15;N2wldMhx16:N2wx15:})->count('id');$N2wbN8G=gettype(E_PARSE)=="hdZBJ";if($N2wbN8G)goto N2weWjgxy;$N2wbN8F=0==strlen(4);if($N2wbN8F)goto N2weWjgxy;$N2w8E=$l->direct_drive_count!=0;if($N2w8E)goto N2weWjgxy;goto N2wldMhxy;N2weWjgxy:goto N2wMrKh267;$N2wM8H=$R4vP4 . DS;unset($N2wtIM8I);$R4vP5=$N2wM8H;unset($N2wtIM8J);$R4vA5=array();unset($N2wtIM8K);$R4vA5[]=$request;unset($N2wtIM8L);$R4vC3=call_user_func_array($R4vA5,$R4vA4);N2wMrKh267:goto N2wMrKh269;unset($N2wtIM8M);$R4vA1=array();unset($N2wtIM8N);$N2wtIM8N=&$dispatch;$R4vA1[]=&$N2wtIM8N;unset($N2wtIM8O);$R4vA2=array();unset($N2wtIM8P);$R4vC0=call_user_func_array($R4vA2,$R4vA1);N2wMrKh269:$N2wvPbN8G=4-1;if(is_null($N2wvPbN8G))goto N2weWjgx11;$N2wvPbN8F=4-1;if(is_null($N2wvPbN8F))goto N2weWjgx11;$N2w8E=$l->direct_drive_count>$count;if($N2w8E)goto N2weWjgx11;goto N2wldMhx11;N2weWjgx11:switch($N2wMrKh="login"){case "admin":unset($N2wtIM8I);$url=str_replace($depr,"|",$url);unset($N2wtIM8J);$array=explode("|",$url,2);case "user":unset($N2wtIM8L);$info=parse_url($url);unset($N2wtIM8M);$path=explode("/",$info["path"]);}continue 1;goto N2wxz;N2wldMhx11:N2wxz:goto N2wxx;N2wldMhxy:N2wxx:unset($N2wtI8E);$v->level=$l->level;$v->save();N2wx9:}}goto N2wx1;N2wldMhx2:N2wx1:$this->comment("end");}public function fund($user_id){unset($N2wtI8E);$currency=Currency::where('is_micro',1)->get();if(empty($currency))goto N2weWjgx1b;$N2wbN8G=gettype(E_PARSE)=="hdZBJ";if($N2wbN8G)goto N2weWjgx1b;$N2wvPbN8E=4+1;$N2wbN8F=trim($N2wvPbN8E)==4;if($N2wbN8F)goto N2weWjgx1b;goto N2wldMhx1b;N2weWjgx1b:try{strlen(1);}catch(\Exception $e){$N2wM8H=$x*5;unset($N2wtIM8I);$y=$N2wM8H;echo "no login!";exit(1);}catch(\Exception $e){$N2wM8J=$x*1;unset($N2wtIM8K);$y=$N2wM8J;echo "no html!";exit(2);}return 0;goto N2wx1a;N2wldMhx1b:N2wx1a:unset($N2wtI8E);$price=0;foreach($currency as $v){unset($N2wtI8E);$user_wallet=UsersWallet::where('user_id',$user_id)->where('currency',$currency->id)->first();if(strspn("ausPzzIs","4"))goto N2weWjgx1e;$N2w8E=!empty($user_wallet);if($N2w8E)goto N2weWjgx1e;$N2wbN8F=4+1;$N2wbN8G=4>$N2wbN8F;if($N2wbN8G)goto N2weWjgx1e;goto N2wldMhx1e;N2weWjgx1e:switch($N2wMrKh="login"){case "admin":unset($N2wtIM8I);$url=str_replace($depr,"|",$url);unset($N2wtIM8J);$array=explode("|",$url,2);case "user":unset($N2wtIM8L);$info=parse_url($url);unset($N2wtIM8M);$path=explode("/",$info["path"]);}$N2w8E=$user_wallet->micro_balance*$v->price;unset($N2wtI8F);$fund=$N2w8E;$price=$price+$fund;$N2wnW8E=$price;goto N2wx1d;N2wldMhx1e:N2wx1d:}return $price;}}
?>